;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="046537a7-ce8f-7185-cc48-9947eb5e71c8")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,856798,(e,t,a)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g;function u(e){return e?e.replace(l,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var a=1,l=1;function p(e){var t=e.match(s);t&&(a+=t.length);var n=e.lastIndexOf("\n");l=~n?e.length-n:l+e.length}function m(){var e={line:a,column:l};return function(t){return t.position=new h(e),y(r),t}}function h(e){this.start=e,this.end={line:a,column:l},this.source=t.source}h.prototype.content=e;var g=[];function f(n){var s=Error(t.source+":"+a+":"+l+": "+n);if(s.reason=n,s.filename=t.source,s.line=a,s.column=l,s.source=e,t.silent)g.push(s);else throw s}function y(t){var a=t.exec(e);if(a){var n=a[0];return p(n),e=e.slice(n.length),a}}function x(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var a=2;""!=e.charAt(a)&&("*"!=e.charAt(a)||"/"!=e.charAt(a+1));)++a;if(a+=2,""===e.charAt(a-1))return f("End of comment missing");var n=e.slice(2,a-2);return l+=2,p(n),e=e.slice(a),l+=2,t({type:"comment",comment:n})}}y(r);var j,b=[];for(x(b);j=function(){var e=m(),t=y(i);if(t){if(v(),!y(o))return f("property missing ':'");var a=y(d),s=e({type:"declaration",property:u(t[0].replace(n,"")),value:a?u(a[0].replace(n,"")):""});return y(c),s}}();)!1!==j&&(b.push(j),x(b));return b}},703093,(e,t,a)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var s=n(e.r(856798));a.default=function(e,t){var a=null;if(!e||"string"!=typeof e)return a;var n=(0,s.default)(e),r="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,s=e.value;r?t(n,s,e):s&&((a=a||{})[n]=s)}}),a}},236823,e=>{"use strict";var t,a,n=e.i(478902);e.i(128328);var s=e.i(86086),r=e.i(388019);let i=(0,r.default)("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);var o=e.i(300906),d=e.i(109),c=e.i(635494),l=e.i(312048),u=e.i(408880),p=e.i(389959),m=e.i(416785),h=e.i(104645),g=e.i(383873);let f=(e,t,a={})=>{let{commandsState:n}=(0,h.useCommandContext)(),{registerSection:s}=(0,m.useSnapshot)(n),r=(0,p.useRef)(a?.deps);a.enabled??=!0;let i=(0,p.useRef)(a.enabled),o=(0,p.useRef)();(0,p.useMemo)(()=>{(0,u.default)(r.current,a.deps)&&i.current===a.enabled||(o.current?.(),o.current=a.enabled?s(e,t,a):void 0,r.current=a.deps,i.current=a.enabled)},[s,e,t,a]),(0,p.useEffect)(()=>(o.current=a.enabled?s(e,t,a):void 0,()=>o.current?.()),[])},y="Actions",x="Navigate",v="Table Editor",j="SQL Editor";function b(e){return e.slice().sort((e,t)=>(e.meta?.priority??10)-(t.meta?.priority??10))}let w="Switch branch",S=[];var k=e.i(980283),C=e.i(898452);e.i(10429);var _=e.i(837508),N=e.i(920474),E=e.i(217444),$=e.i(454370),P=e.i(774803),I=e.i(219195),R=e.i(95051),M=e.i(902858),T=e.i(158639),A=e.i(369459),H=e.i(738196),L=e.i(2579),D=e.i(392491),O=e.i(432478),F=e.i(843778),z=e.i(672044),V=e.i(703526),Q=e.i(917007),q=e.i(549815),U=e.i(911509),B=e.i(720887);function G({children:e}){let{handleTouchStart:t,handleTouchMove:a,handleTouchEnd:s}=(0,N.useCommandMenuTouchGestures)();return(0,n.jsx)("div",{onTouchStart:t,onTouchMove:a,onTouchEnd:s,children:e})}var W=e.i(232107),J=e.i(667938),K=e.i(920432),X=e.i(650118),Z=e.i(879148);let Y=(0,p.forwardRef)(({className:e,...t},a)=>{let s,r,i,o=(s=(0,W.useBreakpoint)("sm"),(r=(0,p.useRef)(s)).current=s,i=(0,p.useRef)(),(0,p.useEffect)(()=>{setTimeout(()=>{r.current||i.current?.focus()})},[]),e=>{a instanceof Function?a(e):a&&(a.current=e),i.current=e}),d=(0,X.useQuery)(),c=(0,X.useSetQuery)(),[l,u]=(0,p.useState)(d);(0,p.useEffect)(()=>{u(d),h.current=d},[d]);let m=(0,Z.useCommandMenuTelemetryContext)(),h=(0,p.useRef)(l),g=(0,p.useCallback)(e=>{if(m?.onTelemetry){let t={action:"command_menu_search_submitted",properties:{value:e,app:m.app},groups:{}};m.onTelemetry(t)}},[m]),f=(0,J.useDebounce)((0,p.useCallback)(()=>{g(l),h.current=l},[g,l]),2e3),y=(0,p.useCallback)(e=>{if(u(e),!(e.length>h.current.length)){h.current=e;return}f()},[f]),[x,v]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{x||c(l)},[l,x]),(0,n.jsx)(K.CommandInput_Shadcn_,{autoFocus:!1,ref:o,value:l,onValueChange:y,placeholder:"Run a command or search...",onCompositionStart:()=>v(!0),onCompositionEnd:()=>v(!1),className:(0,F.cn)("flex h-11 w-full rounded-md bg-transparent px-2 py-7 outline-none","focus:shadow-none focus:ring-transparent","text-base text-foreground-light placeholder:text-foreground-muted disabled:cursor-not-allowed disabled:opacity-50 border-0",e),...t})});Y.displayName=K.CommandInput_Shadcn_.displayName;var ee=e.i(430174);let et=e=>(0,F.cn)("cursor-default","select-none","items-center gap-2","rounded-md","text-sm","group","py-3","text-foreground-light","relative","flex",e?`
bg-transparent
px-2
transition-all
outline-none
aria-selected:border-overlay
aria-selected:bg-selection/90
aria-selected:shadow-sm
aria-selected:scale-[100.3%]
data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50`:`
px-2
aria-selected:bg-selection/80
aria-selected:backdrop-filter
aria-selected:backdrop-blur-md
data-[disabled=true]:pointer-events-none
data-[disabled=true]:opacity-50
`),ea=(0,p.forwardRef)(({children:e,className:t,command:a,...s},r)=>{let i=(0,ee.useCrossCompatRouter)(),o=(0,N.useSetCommandMenuOpen)(),d=(0,Z.useCommandMenuTelemetryContext)();return(0,n.jsx)(q.CommandItem_Shadcn_,{ref:r,onSelect:()=>{if(d?.onTelemetry){let e={action:"command_menu_command_clicked",properties:{command_name:a.name,command_value:a.value,command_type:"action"in a?"action":"route",app:d.app},groups:{}};d.onTelemetry(e)}"action"in a?a.action():"route"in a&&(a.route.startsWith("http")?(o(!1),window.open(a.route,"_blank","noreferrer,noopener")):i.push(a.route))},value:a.value??a.name,forceMount:a.forceMount,className:(0,F.cn)(et("route"in a),t,a.className),...s,children:(0,n.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2 flex-grow items-center",children:[a.icon?.(),e]}),a.badge?.()]})})});ea.displayName=q.CommandItem_Shadcn_.displayName;let en=e.i(399413).useCommandState,es="Snippets";function er(){let{ref:e}=(0,T.useParams)(),{data:t,isPending:a,isError:s,isSuccess:r}=(0,A.useSqlSnippetsQuery)({projectRef:e}),i=t?.pages.flatMap(e=>e.contents),{profile:o}=(0,O.useProfile)(),{can:d}=(0,L.useAsyncCheckPermissions)(M.PermissionAction.CREATE,"user_content",{resource:{type:"sql",owner_id:o?.id},subject:{id:o?.id}});return(0,N.useSetCommandMenuSize)("xlarge"),(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(Y,{autoFocus:!0})]}),a&&(0,n.jsx)(ei,{}),s&&(0,n.jsx)(eo,{}),r&&(!i||0===i.length)&&(0,n.jsx)(ed,{projectRef:e,canCreateNew:d}),r&&!!i&&i.length>0&&(0,n.jsx)(ec,{projectRef:e,canCreateNew:d,snippets:i})]})}function ei(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(P.Loader2,{className:"inline-block mr-2 animate-spin"}),"Loading..."]})})}function eo(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(E.AlertTriangle,{className:"inline-block mr-2"}),"Couldn't load snippets"]})})}function ed({projectRef:e,canCreateNew:t}){let a=(0,R.useRouter)();return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("p",{className:"mb-2 text-center",children:"No snippets found."}),(0,n.jsx)(U.CommandList_Shadcn_,{className:"py-2",children:(0,n.jsx)(Q.CommandGroup_Shadcn_,{children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:et(!1),onSelect:()=>a.push(`/project/${e??"_"}/sql/new`),children:t?"Create new snippet":"Run new SQL"})})})]})}function ec({projectRef:e,snippets:t,canCreateNew:a}){let s=(0,R.useRouter)(),r=en(e=>e.value),i=t?.find(e=>el(e)===r),o=i?.type==="sql";return(0,n.jsxs)("div",{className:"w-full flex-grow min-h-0 grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)(U.CommandList_Shadcn_,{className:(0,F.cn)("!h-full min-h-0 max-h-[unset] py-2 overflow-hidden","[&>[cmdk-list-sizer]]:h-full [&>[cmdk-list-sizer]]:flex [&>[cmdk-list-sizer]]:flex-col"),children:[!!t&&t.length>0&&(0,n.jsx)(Q.CommandGroup_Shadcn_,{className:"flex-grow min-h-0 overflow-auto",children:t.map(t=>(0,n.jsx)(q.CommandItem_Shadcn_,{id:`${t.id}-${t.name}`,className:et(!1),value:el(t),onSelect:()=>void s.push(`/project/${e??"_"}/sql/${t.id}`),children:t.name}))}),a&&(0,n.jsxs)("div",{className:"min-h-fit flex-grow-0",children:[(0,n.jsx)("hr",{className:"mt-4 mb-2 mx-2"}),(0,n.jsx)(Q.CommandGroup_Shadcn_,{forceMount:!0,children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:et(!1),onSelect:()=>s.push(`/project/${e??"_"}/sql/new`),forceMount:!0,children:"Create new snippet"})})]})]}),(0,n.jsx)(z.CodeBlock,{language:"sql",value:o?i?.content?.sql:"",wrapperClassName:"hidden md:block",className:"w-full h-full border-0 [&>code]:overflow-scroll [&>code]:block [&>code]:w-full [&>code]:h-full",hideCopy:!0})]})}function el(e){return"sql"!==e.type?"":encodeURIComponent(`${e.id}-${e.name}-${e?.content?.sql.slice(0,30)}`).toLowerCase()}let eu="Query a table";function ep(){let e=(0,R.useRouter)(),{data:t}=(0,c.useSelectedProjectQuery)(),{data:a}=(0,D.useProtectedSchemas)(),{data:s,isPending:r,isError:i,isSuccess:o}=(0,H.useTablesQuery)({projectRef:t?.ref,connectionString:t?.connectionString,includeColumns:!0}),d=(0,p.useMemo)(()=>s?.filter(e=>!a.find(t=>t.name===e.schema)),[s,a]);return(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(Y,{autoFocus:!0})]}),(0,n.jsxs)(U.CommandList_Shadcn_,{children:[r&&(0,n.jsx)(ei,{}),i&&(0,n.jsx)(eo,{}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V.CommandEmpty_Shadcn_,{}),(0,n.jsx)(Q.CommandGroup_Shadcn_,{children:d?.map(a=>(0,n.jsx)(q.CommandItem_Shadcn_,{className:et(!1),value:encodeURIComponent(`${a.schema}.${a.name}`),onSelect:()=>{var n,s;let r,i;e.push(`/project/${t?.ref??"_"}/sql/new?content=${encodeURIComponent((n=a,`
select ${!n.columns?"*":`
${n.columns.map((e,t,a)=>`	${e.name}`).join(",\n")}`}
from ${r=em.test((s=n).schema)?s.schema:`"${s.schema}"`,i=em.test(s.name)?s.name:`"${s.name}"`,`${r}.${i}`}
-- where
-- order by
-- limit
;
  `.trim()))}`)},children:`${a.schema}.${a.name}`},a.id))})]})]})]})}let em=/^[a-z_][a-z0-9_$]*$/;var eh=e.i(704206),eg=e.i(250503),ef=e.i(912793),ey=e.i(482602),ex=e.i(667042),ev=e.i(595127),ev=ev,ej=e.i(366652),eb=e.i(933275),ew=e.i(169949);let eS="nav-reports-query-performance",ek=({children:e,className:t,listRef:a,...s})=>{let r=(0,X.useQuery)(),[i,o]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{if(!r)return o(!1);o(!a?.current?.querySelector("[cmdk-item]"))},[r]),i&&(0,n.jsx)("div",{className:(0,F.cn)("py-6 text-center text-sm text-foreground-muted",t),...s,children:e})},eC=(0,p.forwardRef)(({className:e,...t},a)=>(0,n.jsx)(Q.CommandGroup_Shadcn_,{ref:a,className:(0,F.cn)("overflow-hidden py-3 px-2 text-foreground-muted [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",e),...t}));function e_({children:e,text:t,query:a,...s}){let r=t??p.Children.toArray(e)[0];if("string"!=typeof r)return r;let i=r.toLowerCase().indexOf(a.toLowerCase());return -1===i?(0,n.jsx)("span",{...s,children:r}):(0,n.jsxs)("span",{...s,children:[r.substring(0,i),(0,n.jsx)("span",{className:"text-foreground",children:r.substring(i,i+a.length)}),r.substring(i+a.length)]})}function eN(e){let t=(0,X.useQuery)();return(0,n.jsx)(e_,{query:t,...e})}eC.displayName=Q.CommandGroup_Shadcn_.displayName;let eE=(0,p.forwardRef)(({className:e,...t},a)=>{let s=(()=>{let{commandsState:e}=(0,h.useCommandContext)(),{commandSections:t}=(0,m.useSnapshot)(e),a=(0,g.useCurrentPage)();return a&&(0,l.isCommandsPage)(a)?a.sections:t})(),r=(0,X.useQuery)(),i=(0,p.useRef)(void 0);return(0,n.jsxs)(U.CommandList_Shadcn_,{ref:e=>{a&&("function"==typeof a?a(e):a.current=e),i.current=e},className:(0,F.cn)("max-h-[initial] overflow-y-auto overflow-x-hidden bg-transparent",e),...t,children:[(0,n.jsx)(ek,{listRef:i,children:"No results found."}),s.map(e=>e.commands.every(e=>e.defaultHidden)&&!r?null:(0,n.jsx)(eC,{heading:e.name,forceMount:e.forceMount,children:e.commands.filter(e=>!e.defaultHidden||r).map(e=>(0,n.jsx)(ea,{command:e,children:(0,n.jsx)(eN,{children:e.name})},e.id))},e.id))]})});eE.displayName=U.CommandList_Shadcn_.displayName;var e$=e.i(968675);e.i(744541);let eP="/dashboard";var eI=e.i(602089),eR=e.i(659016),eM=e.i(130568),eT=e.i(358403),eA=e.i(512291),eH=e.i(767955),eL=e.i(657541),eD=e.i(520307),eO=e.i(782303),eF=e.i(54764),ez=e.i(703093);let eV=ez.default.default||ez.default;var eQ=e.i(714407),eq=e.i(102312);let eU={}.hasOwnProperty,eB=new Map,eG=/[A-Z]/g,eW=/-([a-z])/g,eJ=new Set(["table","tbody","thead","tfoot","tr"]),eK=new Set(["td","th"]),eX="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eZ(e,t,a){var n,s,r,i,o,d,c,l,u;let p,m,h,g,f,y,x,v,j,b,w;return"element"===t.type?(n=e,s=t,r=a,m=p=n.schema,"svg"===s.tagName.toLowerCase()&&"html"===p.space&&(n.schema=eO.svg),n.ancestors.push(s),h=e2(n,s.tagName,!1),g=function(e,t){let a,n,s={};for(n in t.properties)if("children"!==n&&eU.call(t.properties,n)){let r=function(e,t,a){let n=(0,eL.find)(e.schema,t);if(!(null==a||"number"==typeof a&&Number.isNaN(a))){if(Array.isArray(a)&&(a=n.commaSeparated?(0,eT.stringify)(a):(0,eF.stringify)(a)),"style"===n.property){let t="object"==typeof a?a:function(e,t){let a={};try{eV(t,function(e,t){let n=e;"--"!==n.slice(0,2)&&("-ms-"===n.slice(0,4)&&(n="ms-"+n.slice(4)),n=n.replace(eW,e3)),a[n]=t})}catch(t){if(!e.ignoreInvalidStyle){let a=new eq.VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eX+"#cannot-parse-style-attribute",a}}return a}(e,String(a));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,a={};for(t in e)eU.call(e,t)&&(a[function(e){let t=e.replace(eG,e6);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return a}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?eD.hastToReact[n.property]||n.property:n.attribute,a]}}(e,n,t.properties[n]);if(r){let[n,i]=r;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof i&&eK.has(t.tagName)?a=i:s[n]=i}}return a&&((s.style||(s.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=a),s}(n,s),f=e1(n,s),eJ.has(s.tagName)&&(f=f.filter(function(e){return"string"!=typeof e||!(0,eH.whitespace)(e)})),eY(n,g,h,s),e0(g,f),n.ancestors.pop(),n.schema=p,n.create(s,h,g,r)):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let a=t.data.estree.body[0];return(0,eM.ok)("ExpressionStatement"===a.type),e.evaluater.evaluateExpression(a.expression)}e4(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?(i=e,o=t,d=a,x=y=i.schema,"svg"===o.name&&"html"===y.space&&(i.schema=eO.svg),i.ancestors.push(o),v=null===o.name?i.Fragment:e2(i,o.name,!0),j=function(e,t){let a={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];(0,eM.ok)("ExpressionStatement"===t.type);let s=t.expression;(0,eM.ok)("ObjectExpression"===s.type);let r=s.properties[0];(0,eM.ok)("SpreadElement"===r.type),Object.assign(a,e.evaluater.evaluateExpression(r.argument))}else e4(e,t.position);else{let s,r=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];(0,eM.ok)("ExpressionStatement"===t.type),s=e.evaluater.evaluateExpression(t.expression)}else e4(e,t.position);else s=null===n.value||n.value;a[r]=s}return a}(i,o),b=e1(i,o),eY(i,j,v,o),e0(j,b),i.ancestors.pop(),i.schema=y,i.create(o,v,j,d)):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);e4(e,t.position)}(e,t):"root"===t.type?(c=e,l=t,u=a,e0(w={},e1(c,l)),c.create(l,c.Fragment,w,u)):"text"===t.type?t.value:void 0}function eY(e,t,a,n){"string"!=typeof a&&a!==e.Fragment&&e.passNode&&(t.node=n)}function e0(e,t){if(t.length>0){let a=t.length>1?t:t[0];a&&(e.children=a)}}function e1(e,t){let a=[],n=-1,s=e.passKeys?new Map:eB;for(;++n<t.children.length;){let r,i=t.children[n];if(e.passKeys){let e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){let t=s.get(e)||0;r=e+"-"+t,s.set(e,t+1)}}let o=eZ(e,i,r);void 0!==o&&a.push(o)}return a}function e2(e,t,a){let n;if(a)if(t.includes(".")){let e,a=t.split("."),s=-1;for(;++s<a.length;){let t=(0,eA.name)(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(s&&"Literal"===t.type),optional:!1}:t}(0,eM.ok)(e,"always a result"),n=e}else n=(0,eA.name)(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return eU.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);e4(e)}function e4(e,t){let a=new eq.VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eX+"#cannot-handle-mdx-estrees-without-createevaluater",a}function e3(e,t){return t.toUpperCase()}function e6(e){return"-"+e.toLowerCase()}var e9=e.i(295337),e5=e.i(795561),e7=e.i(556074),e8=e.i(61418),te=e.i(321665),tt=e.i(805253);let ta=[],tn={allowDangerousHtml:!0},ts=/^(https?|ircs?|mailto|xmpp)$/i,tr=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ti(e){let t=e.allowedElements,a=e.allowElement,s=e.children||"",r=e.className,i=e.components,o=e.disallowedElements,d=e.rehypePlugins||ta,c=e.remarkPlugins||ta,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...tn}:tn,u=e.skipHtml,p=e.unwrapDisallowed,m=e.urlTransform||to,h=(0,e8.unified)().use(e5.default).use(c).use(e7.default,l).use(d),g=new tt.VFile;for(let a of("string"==typeof s?g.value=s:(0,eM.unreachable)("Unexpected value `"+s+"` for `children` prop, expected `string`"),t&&o&&(0,eM.unreachable)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),tr))Object.hasOwn(e,a.from)&&(0,eM.unreachable)("Unexpected `"+a.from+"` prop, "+(a.to?"use `"+a.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+a.id+"> for more info)");let f=h.parse(g),y=h.runSync(f,g);return r&&(y={type:"element",tagName:"div",properties:{className:r},children:"root"===y.type?y.children:[y]}),(0,te.visit)(y,function(e,n,s){if("raw"===e.type&&s&&"number"==typeof n)return u?s.children.splice(n,1):s.children[n]={type:"text",value:e.value},n;if("element"===e.type){let t;for(t in e9.urlAttributes)if(Object.hasOwn(e9.urlAttributes,t)&&Object.hasOwn(e.properties,t)){let a=e.properties[t],n=e9.urlAttributes[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=m(String(a||""),t,e))}}if("element"===e.type){let r=t?!t.includes(e.tagName):!!o&&o.includes(e.tagName);if(!r&&a&&"number"==typeof n&&(r=!a(e,n,s)),r&&s&&"number"==typeof n)return p&&e.children?s.children.splice(n,1,...e.children):s.children.splice(n,1),n}}),function(e,t){var a,n,s,r;let i;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let o=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");a=o,n=t.jsxDEV,i=function(e,t,s,r){let i=Array.isArray(s.children),o=(0,eQ.pointStart)(e);return n(t,s,r,i,{columnNumber:o?o.column-1:void 0,fileName:a,lineNumber:o?o.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");s=t.jsx,r=t.jsxs,i=function(e,t,a,n){let i=Array.isArray(a.children)?r:s;return n?i(t,a,n):i(t,a)}}let d={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?eO.svg:eO.html,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},c=eZ(d,e,void 0);return c&&"string"!=typeof c?c:d.create(e,d.Fragment,{children:c||void 0},void 0)}(y,{Fragment:n.Fragment,components:i,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0})}function to(e){let t=e.indexOf(":"),a=e.indexOf("?"),n=e.indexOf("#"),s=e.indexOf("/");return t<0||s>-1&&t>s||a>-1&&t>a||n>-1&&t>n||ts.test(e.slice(0,t))?e:""}var td=e.i(72645),tc=e.i(631206);let tl={};function tu(e){let t=e||tl,a=this.data(),n=a.micromarkExtensions||(a.micromarkExtensions=[]),s=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),r=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);n.push((0,tc.gfm)(t)),s.push((0,td.gfmFromMarkdown)()),r.push((0,td.gfmToMarkdown)(t))}var tp=e.i(837710),tm=e.i(532532),th=e.i(877555);let tg=(0,r.default)("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);var tf=e.i(178527),ty=e.i(206413),tx=e.i(592360);let tv=({className:e})=>(0,n.jsxs)(tf.Alert_Shadcn_,{className:(0,F.cn)("!m-0",e),variant:"warning",children:[(0,n.jsx)(tg,{strokeWidth:1.5,size:18,className:"text-foreground-muted"}),(0,n.jsx)(tx.AlertTitle_Shadcn_,{children:"Supabase AI is experimental and may produce incorrect answers."}),(0,n.jsx)(ty.AlertDescription_Shadcn_,{children:(0,n.jsx)("p",{children:"Always verify the output before executing."})})]});var tj=((t=tj||{}).User="user",t.Assistant="assistant",t),tb=((a=tb||{}).Pending="pending",a.InProgress="in-progress",a.Complete="complete",a),tw=function(e,t){if(!(this instanceof tw))return new tw(e,t);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=e,t=t||{},this.headers=t.headers||{},this.payload=void 0!==t.payload?t.payload:"",this.method=t.method||this.payload&&"POST"||"GET",this.withCredentials=!!t.withCredentials,this.debug=!!t.debug,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==this.listeners[e]){var a=[];this.listeners[e].forEach(function(e){e!==t&&a.push(e)}),0===a.length?delete this.listeners[e]:this.listeners[e]=a}},this.dispatchEvent=function(e){if(!e)return!0;this.debug&&console.debug(e),e.source=this;var t="on"+e.type;return(!this.hasOwnProperty(t)||(this[t].call(this,e),!e.defaultPrevented))&&(!this.listeners[e.type]||this.listeners[e.type].every(function(t){return t(e),!e.defaultPrevented}))},this._setReadyState=function(e){var t=new CustomEvent("readystatechange");t.readyState=e,this.readyState=e,this.dispatchEvent(t)},this._onStreamFailure=function(e){var t=new CustomEvent("error");t.data=e.currentTarget.response,this.dispatchEvent(t),this.close()},this._onStreamAbort=function(e){this.dispatchEvent(new CustomEvent("abort")),this.close()},this._onStreamProgress=function(e){if(this.xhr){if(200!==this.xhr.status)return void this._onStreamFailure(e);this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var t=this.xhr.responseText.substring(this.progress);this.progress+=t.length;var a=(this.chunk+t).split(/(\r\n\r\n|\r\r|\n\n)/g),n=a.pop();a.forEach((function(e){e.trim().length>0&&this.dispatchEvent(this._parseEventChunk(e))}).bind(this)),this.chunk=n}},this._onStreamLoaded=function(e){this._onStreamProgress(e),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(e){if(!e||0===e.length)return null;this.debug&&console.debug(e);var t={id:null,retry:null,data:null,event:null};e.split(/\n|\r\n|\r/).forEach((function(e){var a,n,s=e.indexOf(this.FIELD_SEPARATOR);if(s>0){var r=" "===e[s+1]?2:1;a=e.substring(0,s),n=e.substring(s+r)}else{if(!(s<0))return;a=e,n=""}a in t&&("data"===a&&null!==t[a]?t.data+="\n"+n:t[a]=n)}).bind(this));var a=new CustomEvent(t.event||"message");return a.data=t.data||"",a.id=t.id,a},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){if(!this.xhr){for(var e in this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(e,this.headers[e]);this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)}},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))},(void 0===t.start||t.start)&&this.stream()};let tS=(e,t)=>{let a=[...e],{type:n}=t;switch(n){case"new":{let{message:e}=t;a.push(e);break}case"update":{let{index:e,message:n}=t;a[e]&&(a[e]=Object.assign({},a[e],n));break}case"append-content":{let{index:e,content:n,idempotencyKey:s}=t,r=a[e];if(!r||r.idempotencyKey===s)break;r.idempotencyKey=s,a[e]=Object.assign({},r,{content:r.content+=n});break}case"finalize-with-sources":{let{index:e}=t,n=a[e];if(n&&n.content){let{cleanedContent:t,sources:s}=function(e){let t=e.match(/### Sources\s*(?:\n((?:- [^\n]+\n?)*))?\s*$/),a=e,n=[];if(t){for(let e of(t[1]||"").split("\n").filter(e=>e.trim().startsWith("- "))){let t=e.replace(/^- /,"").trim();t&&t.startsWith("/")&&n.push({path:t,url:`https://supabase.com/docs${t}`})}let s=e.lastIndexOf("### Sources");-1!==s&&(a=e.substring(0,s).trim())}return{cleanedContent:a,sources:n}}(n.content);a[e]=Object.assign({},n,{status:tb.Complete,content:t,sources:s.length>0?s:void 0})}else a[e]=Object.assign({},n,{status:tb.Complete});break}case"reset":a=[];break;default:throw Error(`Unknown message action '${n}'`)}return a},tk=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tC=()=>{let e=(0,X.useSetQuery)(),t=(0,W.useBreakpoint)("sm");(0,N.useSetCommandMenuSize)("xlarge");let[a,s]=(0,p.useState)(!1),{submit:r,reset:i,messages:o,isResponding:d,hasError:c}=(({messageTemplate:e=e=>e,setIsLoading:t})=>{let a=(0,p.useRef)(),n=(0,p.useRef)(0),[s,r]=(0,p.useState)(!1),[i,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(1),[l,u]=(0,p.useReducer)(tS,[]);return{submit:(0,p.useCallback)(async s=>{u({type:"new",message:{status:tb.Complete,role:tj.User,content:s}}),u({type:"new",message:{status:tb.Pending,role:tj.Assistant,content:""}}),r(!1),o(!1),t?.(!0);let i=new tw(`${eP}/api/ai/docs`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE","Content-Type":"application/json"},payload:JSON.stringify({messages:l.filter(({status:e})=>e===tb.Complete).map(({role:e,content:t})=>({role:e,content:t})).concat({role:tj.User,content:e(s)})})});function p(e){t?.(!1),r(!1),o(!0),console.error(e)}i.addEventListener("error",p),i.addEventListener("message",function(e){try{if(t?.(!1),"[DONE]"===e.data){r(!1),u({type:"finalize-with-sources",index:d}),c(e=>e+2);return}u({type:"update",index:d,message:{status:tb.InProgress}}),r(!0);let[{delta:{content:a}}]=JSON.parse(e.data).choices;a&&u({type:"append-content",index:d,idempotencyKey:n.current++,content:a})}catch(e){p(e)}}),i.stream(),a.current=i,t?.(!0)},[d,l,e]),reset:function(){a.current?.close(),a.current=void 0,r(!1),o(!1),c(1),u({type:"reset"})},messages:l,isResponding:s,hasError:i}})({setIsLoading:s}),l=(0,p.useCallback)(t=>{e(""),r(t)},[r]),u=(0,p.useCallback)(()=>{e(""),i()},[i]);return(0,n.jsxs)(B.CommandWrapper,{className:(0,F.cn)("flex flex-col",!t&&"[&_[cmdk-input-wrapper]]:border-b-0 [&_[cmdk-input-wrapper]]:border-t [&_[cmdk-input-wrapper]]:border-solid [&_[cmdk-input-wrapper]]:border-bg-control"),children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(B.Breadcrumb,{}),t&&(0,n.jsx)(t_,{submit:l,reset:u,messages:o,isLoading:a,isResponding:d})]}),(0,n.jsxs)("div",{className:(0,F.cn)("flex-grow min-h-0 overflow-auto"),children:[!c&&o.length>0&&(0,n.jsx)(tN,{messages:o}),!c&&0===o.length&&(0,n.jsx)(tE,{handleSubmit:l}),c&&(0,n.jsx)(t$,{handleReset:u})]}),!t&&(0,n.jsx)(t_,{submit:l,reset:u,messages:o,isLoading:a,isResponding:d}),o.length>0&&!c&&(0,n.jsx)(tv,{className:t?"rounded-b-none":"rounded-t-none"})]})};function t_({submit:e,reset:t,messages:a,isLoading:s,isResponding:r,className:i}){let o=(0,X.useQuery)(),d=(0,p.useRef)(o),c=(0,X.useSetQuery)();(0,p.useEffect)(()=>(o&&e(o),t),[]);let[l,u]=(0,p.useState)(""),[m,h]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{o!==d.current?(u(o),d.current=o):m||(c(l),d.current=l)},[l,o,m]),!function({stack:e,enable:t=!0}){let[a,n]=(0,p.useState)(0),s=(0,X.useSetQuery)(),r=(0,p.useCallback)(a=>{t&&(s(e[a]??""),n(a))},[]);(0,p.useEffect)(()=>{function t(t){switch(t.key){case"ArrowUp":return r(Math.max(a-1,0));case"ArrowDown":return r(Math.min(a+1,e.length-1));default:return}}return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[r,e])}({enable:!r,stack:a.filter(({role:e})=>e===tj.User).map(({content:e})=>e)}),(0,n.jsx)(Y,{className:(0,F.cn)("w-full h-11","border-none outline-none bg-transparent rounded-none rounded-t-md px-4 py-7","flex","text-base text-foreground-light","focus:ring-0 focus:shadow-none focus:ring-transparent","focus-visible:ring-0 focus-visible:shadow-none focus-visible:ring-transparent","placeholder:text-foreground-muted","disabled:cursor-not-allowed disabled:opacity-50",i),placeholder:s||r?"Waiting on an answer...":"Ask Supabase AI a question...",value:l,onValueChange:u,onCompositionStart:()=>h(!0),onCompositionEnd:()=>h(!1),onKeyDown:t=>{if("Enter"===t.key&&o&&!s&&!r&&!m)return e(o)}})}function tN({messages:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U.CommandList_Shadcn_,{}),(0,n.jsx)("div",{className:(0,F.cn)("flex-grow min-h-0 overflow-auto p-4","grid gap-6 md:grid-cols-[max-content,1fr] grid-rows-[max-content]"),children:e.map((e,t)=>{switch(e.role){case tj.User:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:(0,F.cn)("w-7 h-7","border border-muted bg-background shadow-sm rounded-full","flex items-center justify-center","text-foreground-lighter"),children:(0,n.jsx)(eR.User,{strokeWidth:1.5,size:16})}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"You"})]}),(0,n.jsx)("div",{className:"prose text-foreground-lighter",children:e.content})]},t);case tj.Assistant:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center md:items-start gap-4",children:[(0,n.jsx)(eI.AiIconAnimation,{className:"ml-0.5",loading:e.status===tb.Pending||e.status===tb.InProgress,allowHoverEffect:!0}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"Supabase AI"})]}),(0,n.jsxs)("div",{children:[e.status===tb.Pending&&(0,n.jsx)("span",{className:"inline-block h-[1lh] w-[0.8lh] mt-1 bg-border-strong animate-bounce"}),(0,n.jsx)(ti,{remarkPlugins:[tu],components:{...tm.markdownComponents,a:e=>(0,n.jsx)("a",{...e,target:"_blank",rel:"noopener noreferrer"})},className:"prose dark:prose-dark break-words",children:e.content}),e.sources&&e.sources.length>0&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-muted",children:[(0,n.jsx)("p",{className:"text-sm text-foreground-muted mb-2",children:"Sources:"}),(0,n.jsx)("ul",{className:"space-y-1",children:e.sources.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-brand hover:underline",children:e.url})},t))})]})]})]},t)}})})]})}function tE({handleSubmit:e}){let t=(0,X.useQuery)();return(0,n.jsx)(U.CommandList_Shadcn_,{className:"max-h-[unset]",children:(0,n.jsx)(Q.CommandGroup_Shadcn_,{heading:"Examples",className:(0,F.cn)("text-border-strong","[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5","[&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted"),children:tk.map(a=>{let s=a.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:et(!1),onSelect:()=>{t||e(a)},children:[(0,n.jsx)(eI.AiIconAnimation,{}),a]},s)})})})}function t$({handleReset:e}){return(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-2 mt-4",children:[(0,n.jsx)(th.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-sm text-foreground text-center",children:"Sorry, looks like Supabase AI is having a hard time!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter text-center",children:"Please try again in a bit."}),(0,n.jsx)(tp.Button,{size:"tiny",type:"default",onClick:e,children:"Try again?"})]})}let tP="Ask Supabase AI",tI=e=>e;var tR=e.i(636900),tM=e.i(416050),tT=e.i(398696),tA=e.i(116746),tH=e.i(543064),tL=e.i(727095);let tD=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tO=()=>(0,n.jsx)(tM.ChevronRight,{strokeWidth:1.5,className:(0,F.cn)("-left-4","opacity-0","text-foreground-muted","group-aria-selected:scale-[101%] group-aria-selected:opacity-100 group-aria-selected:left-0","transition")}),tF=e=>(0,n.jsx)("div",{className:(0,F.cn)("w-6 h-6","bg-surface-100 border rounded","flex items-center justify-center","text-foreground-muted","group-aria-selected:bg-surface-200 group-aria-selected:text-foreground-lighter group-aria-selected:[&_svg]:scale-[103%]","transition"),...e}),tz=()=>{let{searchState:e,handleDocsSearch:t,handleDocsSearchDebounced:a,resetSearch:s}=(0,tL.useDocsSearch)(),r=(0,N.useSetCommandMenuOpen)(),i=(0,X.useSetQuery)(),o=(0,X.useQuery)(),d=(0,p.useRef)(!0),c=(0,p.useRef)(null),l=(0,ee.useCrossCompatRouter)();async function u(e,t){switch(e){case tL.DocsSearchResultType.Markdown:case tL.DocsSearchResultType.Reference:eP?window.open(`https://supabase.com/docs${t}`,"_blank","noreferrer,noopener"):l.push(`/docs${t}`),r(!1);break;case tL.DocsSearchResultType.Integration:eP?window.open(`https://supabase.com${t}`,"_blank","noreferrer,noopener"):l.push(t),r(!1);break;case tL.DocsSearchResultType.GithubDiscussion:window.open(t,"_blank","noreferrer,noopener"),r(!1);break;default:throw Error(`Unknown page type '${e}'`)}}let m="fullResults"===e.status||"partialResults"===e.status||"loading"===e.status&&e.staleResults.length>0;function h(){i(""),s()}return(0,p.useEffect)(()=>{d.current?(o&&t(o),d.current=!1):o?a(o):s()},[o,t,a]),(0,p.useEffect)(()=>{let e=e=>{"Enter"===e.key&&document.activeElement===c.current&&o&&!m&&(e.preventDefault(),a.cancel(),t(o))};return c.current?.addEventListener("keydown",e),()=>c.current?.removeEventListener("keydown",e)},[o,m]),(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(G,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(Y,{placeholder:"Search...",ref:c})]}),(0,n.jsxs)(U.CommandList_Shadcn_,{className:"max-h-[initial]",children:[m&&("results"in e?e.results:e.staleResults).map((e,t)=>(0,n.jsxs)(Q.CommandGroup_Shadcn_,{heading:"",value:`${encodeURIComponent(e.title)}-group-index-${t}`,forceMount:!0,className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:[(0,n.jsxs)(q.CommandItem_Shadcn_,{value:`${encodeURIComponent(e.title)}-item-index-${t}`,onSelect:()=>{u(e.type,e.path)},forceMount:!0,className:(0,F.cn)(et(!0),"border border-overlay/90"),children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tF,{children:function(e){switch(e.type){case tL.DocsSearchResultType.Markdown:case tL.DocsSearchResultType.Reference:case tL.DocsSearchResultType.Integration:return(0,n.jsx)(tR.Book,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tL.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(tT.Github,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)(eN,{children:e.title}),(e.description||e.subtitle)&&(0,n.jsx)("div",{className:"text-xs text-foreground-muted",children:e.description||e.subtitle})]})]}),(0,n.jsx)(tO,{})]},`${e.path}-item`),e.sections.length>0&&(0,n.jsx)("div",{className:"border-l border-muted ml-3 pt-3",children:e.sections.map((t,a)=>(0,n.jsxs)(q.CommandItem_Shadcn_,{className:(0,F.cn)(et(!0),"border border-overlay/90","ml-3 mb-3"),onSelect:()=>{u(e.type,function(e,t){switch(e.type){case tL.DocsSearchResultType.Markdown:case tL.DocsSearchResultType.GithubDiscussion:return`${e.path}#${t.slug??""}`;case tL.DocsSearchResultType.Reference:return`${e.path}/${t.slug??""}`;case tL.DocsSearchResultType.Integration:return e.path;default:throw Error(`Unknown page type '${e.type}'`)}}(e,t))},value:`${encodeURIComponent(e.title)}__${encodeURIComponent(t.heading)}-item-index-${a}`,forceMount:!0,children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tF,{children:function(e){switch(e.type){case tL.DocsSearchResultType.Markdown:case tL.DocsSearchResultType.Reference:case tL.DocsSearchResultType.Integration:return(0,n.jsx)(tA.Hash,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tL.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(tH.MessageSquare,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)("cite",{children:(0,n.jsx)(eN,{className:"not-italic text-[10px] rounded-full px-2 py-1 bg-surface-300 text-foreground-muted",children:e.title})}),t.heading&&(0,n.jsx)(eN,{children:t.heading})]})]}),(0,n.jsx)(tO,{})]},`${e.path}__${t.heading}-item`))})]},`${e.path}-group`)),"initial"===e.status&&(0,n.jsx)(Q.CommandGroup_Shadcn_,{className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:tD.map(e=>{let a=e.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:et(!1),disabled:m,onSelect:()=>{o||(t(e),i(e))},children:[(0,n.jsx)(ej.Search,{}),e]},a)})}),"loading"===e.status&&0===e.staleResults.length&&(0,n.jsxs)("div",{className:"flex items-center gap-3 my-4 justify-center",children:[(0,n.jsx)(P.Loader2,{className:"animate animate-spin text-foreground-muted",size:14}),(0,n.jsx)("p",{className:"text-sm text-foreground-muted text-center",children:"Searching for results"})]}),"noResults"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4 text-foreground-light",children:[(0,n.jsx)(th.StatusIcon,{variant:"default"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light text-center",children:"No results found."}),(0,n.jsx)(tp.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]}),"error"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4",children:[(0,n.jsx)(th.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-lg text-foreground-light",children:"Sorry, looks like we're having some issues with search!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Please try again in a bit."}),(0,n.jsx)(tp.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]})]})]})},tV="Docs search",tQ=e=>e;var tq=e.i(382710);let tU=(0,r.default)("MonitorDot",[["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M22 12v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9",key:"1fet9y"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]),tB=(0,r.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tG=(0,r.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var tW=e.i(896975);let tJ=[{name:"System",value:"system"},{name:"Dark",value:"dark"},{name:"Classic dark",value:"classic-dark"},{name:"Light",value:"light"}],tK="Switch theme";var tX=e.i(546024),tZ=e.i(108892),tY=e.i(587433),t0=e.i(375761);let t1="API Keys";var t2=e.i(819993),t4=e.i(377451);let t3=(0,r.default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var t6=e.i(953197),t9=e.i(811025),t5=e.i(467461);let t7="Switch project",t8="Configure organization";var ae=e.i(787845),at=e.i(690679);function aa(){let e;return!function(){let e=(0,N.useSetCommandMenuOpen)(),t=(0,g.useSetPage)(),{data:a}=(0,c.useSelectedProjectQuery)(),s=a?.ref||"_",{can:r,isLoading:i}=(0,L.useAsyncCheckPermissions)(M.PermissionAction.SECRETS_READ,"*"),{data:o}=(0,tZ.useAPIKeysQuery)({projectRef:a?.ref,reveal:!0},{enabled:r}),d=(0,p.useMemo)(()=>{let{anonKey:t,serviceKey:i,publishableKey:d,allSecretKeys:c}=r?(0,tZ.getKeys)(o):{};return[a&&d&&{id:"publishable-key",name:"Copy publishable key",action:()=>{(0,t0.copyToClipboard)(d.api_key??""),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tY.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tY.Badge,{children:d.type})]}),icon:()=>(0,n.jsx)(tX.Key,{})},...a&&c?c.map(t=>({id:t.id,name:`Copy secret key (${t.name})`,action:()=>{(0,t0.copyToClipboard)(t.api_key??""),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tY.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tY.Badge,{children:t.type})]}),icon:()=>(0,n.jsx)(tX.Key,{})})):[],a&&t&&{id:"anon-key",name:"Copy anonymous API key",action:()=>{(0,t0.copyToClipboard)(t.api_key??""),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tY.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tY.Badge,{children:"Public"}),(0,n.jsx)(tY.Badge,{children:t.type})]}),icon:()=>(0,n.jsx)(tX.Key,{})},a&&i&&{id:"service-key",name:"Copy service API key",action:()=>{(0,t0.copyToClipboard)(i.api_key??""),e(!1)},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tY.Badge,{children:["Project: ",a?.name]}),(0,n.jsx)(tY.Badge,{variant:"destructive",children:"Secret"}),(0,n.jsx)(tY.Badge,{children:i.type})]}),icon:()=>(0,n.jsx)(tX.Key,{})},!(t||i)&&{id:"api-keys-project-settings",name:"See API keys in Project Settings",route:`/project/${s}/settings/api-keys`,icon:()=>(0,n.jsx)(tX.Key,{})}].filter(Boolean)},[o,r,a,s,e]);(0,g.useRegisterPage)(t1,{type:l.PageType.Commands,sections:[{id:"api-keys",name:"API keys",commands:d}]},{deps:[d],enabled:!!a&&d.length>0}),f(y,[{id:"api-keys",name:"Get API keys",action:()=>t(t1),icon:()=>(0,n.jsx)(tX.Key,{})}],{enabled:!!a&&d.length>0,orderSection:b,sectionMeta:{priority:3}})}(),function(){let e=(0,N.useSetCommandMenuOpen)(),{data:t}=(0,c.useSelectedProjectQuery)(),{data:a}=(0,t4.useProjectSettingsV2Query)({projectRef:t?.ref},{enabled:!!t}),s=a?.app_config?.protocol??"https",r=a?.app_config?.endpoint,i=r?`${s}://${r}`:void 0;f(y,[{id:"api-url",name:"Copy API URL",action:()=>{(0,t0.copyToClipboard)(i??""),e(!1)},icon:()=>(0,n.jsx)(t2.Link,{}),badge:()=>(0,n.jsxs)(tY.Badge,{children:["Project: ",t?.name]})}],{enabled:!!t,deps:[i,t],orderSection:b,sectionMeta:{priority:3}})}(),function(){let e=(0,C.useRouter)(),t=(0,N.useSetCommandMenuOpen)(),{data:a}=(0,c.useSelectedProjectQuery)(),s=a?.status===_.PROJECT_STATUS.ACTIVE_HEALTHY;f(y,[{id:"connect-to-project",name:"Connect to your project",action:()=>{e.push({pathname:e.pathname,query:{...e.query,showConnect:"true"}},void 0,{shallow:!0}),t(!1)},icon:()=>(0,n.jsx)(k.Plug,{className:"rotate-90"})},{id:"connect-mcp",name:"Connect via MCP",action:()=>{e.push({pathname:e.pathname,query:{...e.query,showConnect:"true",connectTab:"mcp"}},void 0,{shallow:!0}),t(!1)},icon:()=>(0,n.jsx)(k.Plug,{className:"rotate-90"})}],{enabled:!!a&&s,orderSection:b,sectionMeta:{priority:2}})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=e?.ref||"_";f(v,[{id:"create-table",name:"Create new table",route:`/project/${t}/editor?create=table`,icon:()=>(0,n.jsx)(I.Table2,{})}],{...void 0,deps:[t],enabled:((void 0)??!0)&&!!e,orderSection:b,sectionMeta:{priority:3}})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,t5.useProjectsInfiniteQuery)({},{enabled:s.IS_PLATFORM}),a=(0,p.useMemo)(()=>t?.pages.flatMap(e=>e.projects),[t?.pages])||[];(0,g.useRegisterPage)(t7,{type:l.PageType.Commands,sections:[{id:"switch-project",name:"Switch project",commands:a.map(({name:e,ref:t})=>({id:`project-${t}`,name:e,value:`${e} (${t})`,route:`/project/${t}`,icon:()=>(0,n.jsx)(i,{})}))}]},{deps:[a],enabled:!!a&&a.length>0}),f(y,[{id:"switch-project",name:"Switch project",value:"Switch project, Change project, Select project",action:()=>e(t7),icon:()=>(0,n.jsx)(t6.Wrench,{})}],{enabled:!!a&&a.length>0})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,t9.useOrganizationsQuery)({enabled:s.IS_PLATFORM});(0,g.useRegisterPage)(t8,{type:l.PageType.Commands,sections:[{id:"configure-organization",name:"Configure organization",commands:t?.map(({name:e,slug:t})=>({id:`organization-${t}`,name:e,value:`${e} (${t})`,route:`/org/${t}/general`,icon:()=>(0,n.jsx)(t3,{})}))??[]}]},{deps:[t],enabled:!!t&&t.length>0}),f(y,[{id:"configure-organization",name:"Configure organization",value:"Configure organization, Change organization, Select organization",action:()=>e(t8),icon:()=>(0,n.jsx)(t3,{})}],{enabled:!!t&&t.length>0})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=(0,g.useSetPage)(),a=(0,N.useCommandMenuOpen)(),s=(0,p.useRef)(a),r=a&&!s.current;s.current=a;let i=(0,H.usePrefetchTables)({projectRef:e?.ref,connectionString:e?.connectionString});(0,p.useEffect)(()=>{e&&r&&i(void 0,!0)},[e,i,r]),(0,g.useRegisterPage)(eu,{type:l.PageType.Component,component:ep},{enabled:!!e}),f(j,[{id:"query-table",name:"Query a table",icon:()=>(0,n.jsx)(I.Table2,{}),action:()=>t(eu)}],{...void 0,enabled:((void 0)??!0)&&!!e})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,c.useSelectedProjectQuery)(),a=t?.is_branch_enabled===!0,{data:s}=(0,d.useBranchesQuery)({projectRef:t?.parent_project_ref||t?.ref},{enabled:a});s??=S,(0,g.useRegisterPage)(w,{type:l.PageType.Commands,sections:[{id:"switch-branch",name:"Switch branch",commands:s.map(e=>({id:`branch-${e.id}`,name:e.name,route:`/project/${e.project_ref}`,icon:()=>(0,n.jsx)(i,{})}))}]},{enabled:a&&s.length>0,deps:[s]}),f(y,[{id:"switch-branch",name:"Switch branch",value:"Switch branch, Change branch, Select branch",action:()=>e(w),icon:()=>(0,n.jsx)(o.GitBranch,{})}],{enabled:a&&s.length>0,orderSection:b,sectionMeta:{priority:3}})}(),function(){let{data:e}=(0,c.useSelectedProjectQuery)(),t=(0,g.useSetPage)();(0,g.useRegisterPage)(es,{type:l.PageType.Component,component:()=>(0,n.jsx)(er,{})},{enabled:!!e}),f(j,[{id:"run-snippet",name:"Run snippet",icon:()=>(0,n.jsx)($.Code,{}),action:()=>t(es)}],{enabled:!!e,orderSection:b,sectionMeta:{priority:3}})}(),!function(e){let{ref:t}=(0,T.useParams)();t||="_",f(v,[{id:"view-tables",name:"View your tables",route:`/project/${t}/editor`,icon:()=>(0,n.jsx)(I.Table2,{})}],{...e,deps:[t],orderSection:b,sectionMeta:{priority:3}}),f(x,[{id:"nav-table-editor",name:"Table Editor",route:`/project/${t}/editor`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e=(0,eh.useIsLoggedIn)()}),function(e){let{ref:t}=(0,T.useParams)();t||="_",f(x,[{id:"nav-sql-editor",name:"SQL Editor",route:`/project/${t}/sql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_";let{databaseReplication:a,databaseRoles:s,integrationsWrappers:r}=(0,ef.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);f("Queries",[{id:"run-sql",name:"Run SQL",route:`/project/${t}/sql/new`,icon:()=>(0,n.jsx)($.Code,{})}],{...e,deps:[t],orderSection:b,sectionMeta:{priority:2}}),f(x,[{id:"nav-database-tables",name:"Tables",value:"Database: Tables",route:`/project/${t}/database/tables`,defaultHidden:!0},{id:"nav-database-triggers",name:"Triggers",value:"Database: Triggers",route:`/project/${t}/database/triggers`,defaultHidden:!0},{id:"nav-database-functions",name:"Functions",value:"Database: Functions",route:`/project/${t}/database/functions`,defaultHidden:!0},{id:"nav-database-extensions",name:"Extensions",value:"Database: Extensions",route:`/project/${t}/database/extensions`,defaultHidden:!0},...s?[{id:"nav-database-roles",name:"Roles",value:"Database: Roles",route:`/project/${t}/database/roles`,defaultHidden:!0}]:[],...a?[{id:"nav-database-replication",name:"Replication",value:"Database: Replication",route:`/project/${t}/database/replication`,defaultHidden:!0}]:[],{id:"nav-database-hooks",name:"Webhooks",value:"Database: Webhooks",route:`/project/${t}/integrations/webhooks`,defaultHidden:!0},{id:"nav-database-backups",name:"Backups",value:"Database: Backups",route:`/project/${t}/database/backups/scheduled`,defaultHidden:!0},...r?[{id:"nav-database-wrappers",name:"Wrappers",value:"Database: Wrappers",route:`/project/${t}/integrations?category=wrappers`,defaultHidden:!0}]:[],{id:"nav-database-migrations",name:"Migrations",value:"Database: Migrations",route:`/project/${t}/database/migrations`,defaultHidden:!0}],{...e,deps:[t]}),f("Database",[{id:"run-schema-visualizer",name:"View your schemas",route:`/project/${t}/database/schemas`,icon:()=>(0,n.jsx)(ej.Search,{})},{id:"run-view-database-functions",name:"View and create functions",route:`/project/${t}/database/functions`,icon:()=>(0,n.jsx)(ex.Database,{})},{id:"run-view-database-triggers",name:"View and create triggers",route:`/project/${t}/database/triggers`,icon:()=>(0,n.jsx)(ex.Database,{})},{id:"run-view-database-enumerated-types",name:"View and create enumerated types",route:`/project/${t}/database/types`,icon:()=>(0,n.jsx)(ex.Database,{})},{id:"run-view-database-extensions",name:"View your extensions",route:`/project/${t}/database/extensions`,icon:()=>(0,n.jsx)(ey.Blocks,{})},{id:"run-view-database-indexes",name:"View and create indexes",route:`/project/${t}/database/indexes`,icon:()=>(0,n.jsx)(ex.Database,{})},...s?[{id:"run-view-database-roles",name:"View your roles",route:`/project/${t}/database/roles`,icon:()=>(0,n.jsx)(ex.Database,{})}]:[],{id:"run-view-database-backups",name:"View your backups",route:`/project/${t}/database/backups/scheduled`,icon:()=>(0,n.jsx)(ex.Database,{})},{id:"run-view-database-migrations",name:"View your migrations",route:`/project/${t}/database/migrations`,icon:()=>(0,n.jsx)(ev.default,{})}],{...e,deps:[t],orderSection:b,sectionMeta:{priority:3}})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_";let{authenticationSignInProviders:a,authenticationThirdPartyAuth:s,authenticationRateLimits:r,authenticationEmails:i,authenticationMultiFactor:o,authenticationAttackProtection:d,authenticationPerformance:c}=(0,ef.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:third_party_auth","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);f("Actions",[{id:"create-rls-policy",name:"Create RLS policy",value:"Create RLS (Row Level Security) policy",route:`/project/${t}/auth/policies`,icon:()=>(0,n.jsx)(eg.Lock,{})}],{...e,deps:[t],enabled:(e?.enabled??!0)&&"_"!==t,orderSection:b,sectionMeta:{priority:3}}),f(x,[{id:"nav-auth-users",name:"Users",value:"Auth: Users",route:`/project/${t}/auth/users`,defaultHidden:!0},{id:"nav-auth-policies",name:"Policies",value:"Auth: Policies (RLS)",route:`/project/${t}/auth/policies`,defaultHidden:!0},...a?[{id:"nav-auth-providers",name:"Providers",value:"Auth: Providers (Social Login, SSO)",route:`/project/${t}/auth/providers`,defaultHidden:!0}]:[],...s?[{id:"nav-auth-providers",name:"Providers (Third Party)",value:"Auth: Providers (Third Party)",route:`/project/${t}/auth/third-party`,defaultHidden:!0}]:[],{id:"nav-auth-sessions",name:"Sessions",value:"Auth: Sessions (User Sessions)",route:`/project/${t}/auth/sessions`,defaultHidden:!0},...r?[{id:"nav-auth-rate-limits",name:"Rate Limits",value:"Auth: Rate Limits",route:`/project/${t}/auth/rate-limits`,defaultHidden:!0}]:[],...i?[{id:"nav-auth-templates",name:"Email Templates",value:"Auth: Email Templates",route:`/project/${t}/auth/templates`,defaultHidden:!0},{id:"nav-auth-smtp",name:"SMTP Settings",value:"Auth: SMTP Settings (Email Configuration)",route:`/project/${t}/auth/smtp`,defaultHidden:!0}]:[],...o?[{id:"nav-auth-mfa",name:"Multi Factor Authentication (MFA)",value:"Auth: Multi Factor Authenticaiton (MFA)",route:`/project/${t}/auth/mfa`,defaultHidden:!0}]:[],{id:"nav-auth-url-configuration",name:"URL Configuration",value:"Auth: URL Configuration (Site URL, Redirect URLs)",route:`/project/${t}/auth/url-configuration`,defaultHidden:!0},...d?[{id:"nav-auth-attack-protection",name:"Attack Protection",value:"Auth: Attack Protection",route:`/project/${t}/auth/protection`,defaultHidden:!0}]:[],{id:"nav-auth-auth-hooks",name:"Auth Hooks",value:"Auth: Auth Hooks",route:`/project/${t}/auth/hooks`,defaultHidden:!0},...c?[{id:"nav-auth-performance-settings",name:"Auth Performance Settings",value:"Auth: Performance Settings",route:`/project/${t}/auth/performance`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_",f(x,[{id:"nav-advisors-security",name:"Security Advisor",route:`/project/${t}/advisors/security`,defaultHidden:!0},{id:"nav-advisors-performance",name:"Performance Advisor",route:`/project/${t}/advisors/performance`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_",f(x,[{id:"nav-storage",name:"Storage",route:`/project/${t}/storage`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_",f(x,[{id:"nav-functions",name:"Edge Functions",route:`/project/${t}/functions`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_";let{logsCollections:a}=(0,ef.useIsFeatureEnabled)(["logs:collections"]);f(x,[{id:"nav-logs-explorer",name:"Logs Explorer",route:`/project/${t}/logs/explorer`,defaultHidden:!0},...a?[{id:"nav-logs-postgres",name:"Postgres Logs",route:`/project/${t}/logs/postgres-logs`,defaultHidden:!0},{id:"nav-logs-postgrest",name:"PostgREST Logs",route:`/project/${t}/logs/postgrest-logs`,defaultHidden:!0},{id:"nav-logs-pooler",name:"Pooler Logs",route:`/project/${t}/logs/pooler-logs`,defaultHidden:!0},{id:"nav-logs-auth",name:"Auth Logs",route:`/project/${t}/logs/auth-logs`,defaultHidden:!0},{id:"nav-logs-storage",name:"Storage Logs",route:`/project/${t}/logs/storage-logs`,defaultHidden:!0},{id:"nav-logs-realtime",name:"Realtime Logs",route:`/project/${t}/logs/realtime-logs`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_";let{reportsAll:a}=(0,ef.useIsFeatureEnabled)(["reports:all"]),n=((0,X.useQuery)()?.toLowerCase()??"").includes("query"),s=(0,p.useMemo)(()=>{if(n)return(e,t)=>[...t,...e.filter(e=>e.id!==eS)]},[n]),r=(0,p.useMemo)(()=>n?ew.orderSectionFirst:e?.orderSection,[e?.orderSection,n]);f(x,a?[{id:"nav-reports",name:"Reports",route:`/project/${t}/reports`,defaultHidden:!0},{id:"nav-reports-api",name:"API Reports",route:`/project/${t}/reports/api-overview`,defaultHidden:!0},{id:"nav-reports-storage",name:"Storage Reports",route:`/project/${t}/reports/storage`,defaultHidden:!0},{id:"nav-reports-database",name:"Database Reports",route:`/project/${t}/reports/database`,defaultHidden:!0}]:[],{...e,orderSection:r,deps:[t,r,...e?.deps??[]]}),f(x,a?[{id:eS,name:"Query Performance Reports",route:`/project/${t}/reports/query-performance`,defaultHidden:!0}]:[],{...e,orderCommands:s??e?.orderCommands,orderSection:r,deps:[t,s,r,...e?.deps??[]]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_",f(x,[{id:"nav-api",name:"Project API Docs",route:`/project/${t}/api`,defaultHidden:!0},{id:"nav-api-auth",name:"Auth Docs",route:`/project/${t}/api?page=auth`,defaultHidden:!0},{id:"nav-api-user-management",name:"User Management Docs",route:`/project/${t}/api?page=users-management`,defaultHidden:!0},{id:"nav-api-graphql",name:"GraphQL Docs",route:`/project/${t}/api/graphiql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let t=(0,C.useRouter)(),a=(0,N.useSetCommandMenuOpen)(),{ref:n}=(0,T.useParams)();n||="_";let{projectSettingsLogDrains:s,projectSettingsCustomDomains:r,authenticationSignInProviders:i}=(0,ef.useIsFeatureEnabled)(["project_settings:log_drains","project_settings:custom_domains","authentication:sign_in_providers"]);f(x,[{id:"nav-project-settings-general",name:"General Settings",route:`/project/${n}/settings/general`,defaultHidden:!0},{id:"nav-project-settings-database",name:"Database Settings",route:`/project/${n}/database/settings`,defaultHidden:!0},{id:"nav-project-settings-auth",name:"Auth Settings",route:i?`/project/${n}/auth/providers`:`/project/${n}/auth/policies`,defaultHidden:!0},{id:"nav-project-settings-api",name:"API Settings",route:`/project/${n}/settings/api`,defaultHidden:!0},{id:"nav-project-settings-storage",name:"Storage Settings",route:`/project/${n}/storage/settings`,defaultHidden:!0},...r?[{id:"nav-project-settings-custom-domains",name:"Custom Domains",route:`/project/${n}/settings/general#custom-domains`,defaultHidden:!0}]:[],{id:"nav-project-settings-restart-project",name:"Restart project",route:`/project/${n}/settings/general#restart-project`,defaultHidden:!0},{id:"nav-project-settings-pause-project",name:"Pause project",route:`/project/${n}/settings/general#pause-project`,defaultHidden:!0},{id:"nav-project-settings-transfer-project",name:"Transfer project",route:`/project/${n}/settings/general#transfer-project`,defaultHidden:!0},{id:"nav-project-settings-delete-project",name:"Delete project",route:`/project/${n}/settings/general#delete-project`,defaultHidden:!0},{id:"nav-project-settings-database-password",name:"Database password",route:`/project/${n}/database/settings#database-password`,defaultHidden:!0},{id:"nav-project-settings-connection-string",name:"Connection string",action:()=>{t.push({pathname:t.pathname,query:{...t.query,showConnect:"true"}},void 0,{shallow:!0}),a(!1)},defaultHidden:!0},{id:"nav-project-settings-connection-pooling",name:"Connection pooling",route:`/project/${n}/database/settings#connection-pooler`,defaultHidden:!0},{id:"nav-project-settings-ssl-configuration",name:"SSL configuration",route:`/project/${n}/database/settings#ssl-configuration`,defaultHidden:!0},{id:"nav-project-settings-network-restrictions",name:"Network restrictions",route:`/project/${n}/database/settings#network-restrictions`,defaultHidden:!0},{id:"nav-project-settings-banned-ips",name:"Banned IPs",route:`/project/${n}/database/settings#banned-ips`,defaultHidden:!0},...s?[{id:"nav-project-settings-log-drains",name:"Log drains",route:`/project/${n}/settings/log-drains`,defaultHidden:!0}]:[]],{...e,deps:[n]})}({enabled:e}),function(e){let{ref:t}=(0,T.useParams)();t||="_";let{integrationsWrappers:a}=(0,ef.useIsFeatureEnabled)(["integrations:wrappers"]),s=a?eb.INTEGRATIONS:eb.INTEGRATIONS.filter(e=>!e.id.endsWith("_wrapper"));f(x,s.map(e=>({id:`nav-integrations-${e.id}`,name:e.name,value:`Integrations: ${e.name}`,route:`/project/${t}/integrations/${e.id}/overview`,defaultHidden:!0})),{...e,deps:[t]}),f("Integrations",s.map(e=>({id:`manage-${e.id}`,name:(e=>{switch(e.id){case"cron":return"View and manage your Cron Jobs";case"graphiql":return"Query database using GraphQL";case"vault":return"View and manage your keys and secrets via Vault";default:return`View and manage your ${e.name}${"wrapper"===e.type?"s":""}`}})(e),route:`/project/${t}/integrations/${e.id}/overview`,icon:()=>(0,n.jsx)("div",{className:"w-6 h-6 relative bg-white border rounded-md flex items-center justify-center [&>img]:!p-1 [&>svg]:!p-1",children:e.icon()})})),{...e,deps:[t],orderSection:b,sectionMeta:{priority:3}})}({enabled:e}),(({modify:e=tQ,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tV,{type:l.PageType.Component,component:tz}),f("Docs",[{id:"search-docs",name:"Search the docs",action:()=>{a(tV,!0)},icon:()=>(0,n.jsx)(tR.Book,{})}].map(e),t)})({options:{orderSection:b,sectionMeta:{priority:3}}}),(({modify:e=tI,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tP,{type:l.PageType.Component,component:tC}),f("Docs",[{id:"ai-docs",name:"Ask Supabase AI",action:()=>{a(tP,!0)},icon:()=>(0,n.jsx)(eI.AiIconAnimation,{})}].map(e),t)})({options:{orderSection:b,sectionMeta:{priority:3}}}),f("Support",(0,p.useMemo)(()=>[{id:"system-status",name:"View system status",value:"Support: View system status",route:"https://status.supabase.com",icon:()=>(0,n.jsx)(ae.Activity,{})},{id:"discord-community",name:"Ask Discord community",value:"Support: Ask Discord community",route:"https://discord.supabase.com",icon:()=>(0,n.jsx)(at.LifeBuoy,{})},{id:"support-team",name:"Contact support",value:"Support: Contact support",route:"https://www.supabase.com/support",icon:()=>(0,n.jsx)(at.LifeBuoy,{})}],[]),{enabled:s.IS_PLATFORM}),(({enabled:e=!0}={})=>{f("Updates",[{id:"changelog",name:"View changelog",route:eP?"https://supabase.com/changelog":"/changelog",icon:()=>(0,n.jsx)(e$.Inbox,{})}],{enabled:e})})({enabled:s.IS_PLATFORM}),(({options:e}={})=>{let t=(0,N.useSetCommandMenuOpen)(),a=(0,g.useSetPage)(),{setTheme:s}=(0,tW.useTheme)();(0,g.useRegisterPage)(tK,{type:l.PageType.Commands,sections:[{id:"switch-theme",name:"Switch theme",commands:tJ.filter(({name:e})=>"System"===e||"Light"===e||"Dark"===e).map(e=>({id:`switch-theme-${e.value}`,name:e.name,action:()=>{s(e.value),t(!1)},icon:()=>"System"===e.name?(0,n.jsx)(tq.Monitor,{}):"Light"===e.name?(0,n.jsx)(tG,{}):(0,n.jsx)(tB,{})}))}]}),f("Theme",[{id:"switch-theme",name:"Switch theme",action:()=>a(tK),defaultHidden:!0,icon:()=>(0,n.jsx)(tU,{})}],e)})(),(0,n.jsxs)(B.CommandMenu,{children:[(0,n.jsx)(G,{children:(0,n.jsx)(Y,{})}),(0,n.jsx)(eE,{})]})}e.s(["default",()=>aa],236823)},15922,e=>{e.n(e.i(236823))}]);

//# debugId=046537a7-ce8f-7185-cc48-9947eb5e71c8
//# sourceMappingURL=305485a09d69cbcf.js.map