;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b7a45fb9-988c-272b-5572-07ee48a58bf7")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,167892,e=>{"use strict";var s=e.i(478902),t=e.i(389959),a=e.i(843778);let n="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-10",r=(0,t.forwardRef)(({className:e,bottomPadding:t,size:n="default",...r},o)=>(0,s.jsx)("div",{ref:o,...r,className:(0,a.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[n],i,t&&"pb-16",e)})),o=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("header",{...t,ref:n,className:(0,a.cn)("w-full","flex-col gap-3 py-6",e)})),l=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("h1",{ref:n,...t,className:(0,a.cn)(e)})),c=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("p",{ref:n,...t,className:(0,a.cn)("text-sm text-foreground-light",e)})),d=(0,t.forwardRef)(({className:e,isFullWidth:t,topPadding:n,...i},r)=>(0,s.jsx)("div",{ref:r,...i,className:(0,a.cn)("flex flex-col first:pt-12 py-6",t?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("w-full h-px bg-border",e)})),p=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("h3",{ref:n,...t,className:(0,a.cn)("text-foreground text-xl",e)})),m=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("p",{ref:n,...t,className:(0,a.cn)("text-sm text-foreground-light",e)})),h=(0,t.forwardRef)(({className:e,children:t,title:n,...i},r)=>(0,s.jsxs)("div",{ref:r,...i,className:(0,a.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[n&&(0,s.jsx)("h2",{children:n}),t]})),f=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),x=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("flex flex-col gap-3 items-center",e)})),g=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("flex w-full items-center",e)})),j=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("flex flex-row gap-3",e)})),b=(0,t.forwardRef)(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,...t,className:(0,a.cn)("flex flex-col gap-3","min-w-[420px]",e)})),y=(0,t.forwardRef)(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,...t,className:(0,a.cn)(n,i,"my-8 flex flex-col gap-8",e)}));o.displayName="ScaffoldHeader",l.displayName="ScaffoldTitle",c.displayName="ScaffoldDescription",r.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",f.displayName="ScaffoldSectionContent",x.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",y.displayName="ScaffoldContainerLegacy",p.displayName="ScaffoldSectionTitle",m.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,n,"PADDING_CLASSES",0,i,"ScaffoldActionsContainer",0,g,"ScaffoldActionsGroup",0,j,"ScaffoldColumn",0,b,"ScaffoldContainer",0,r,"ScaffoldContainerLegacy",0,y,"ScaffoldDescription",0,c,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,x,"ScaffoldHeader",0,o,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,f,"ScaffoldSectionDescription",0,m,"ScaffoldSectionDetail",0,h,"ScaffoldSectionTitle",0,p,"ScaffoldTitle",0,l])},862326,e=>{"use strict";var s=e.i(478902),t=e.i(938933),a=e.i(843778);function n({children:e,className:t,tag:a="div",style:n}){let i=`${a}`;return(0,s.jsx)(i,{style:n,children:e})}n.Title=function({className:e,level:t=1,children:a,style:n}){let i=`h${t}`;return(0,s.jsx)(i,{style:n,children:a})},n.Text=function({className:e,children:t,style:a,type:n,disabled:i,mark:r,code:o,keyboard:l,underline:c,strikethrough:d,strong:u,small:p}){return o?(0,s.jsx)("code",{style:a,children:t}):r?(0,s.jsx)("mark",{style:a,children:t}):l?(0,s.jsx)("kbd",{style:a,children:t}):u?(0,s.jsx)("strong",{style:a,children:t}):(0,s.jsx)("span",{style:a,children:t})},n.Link=function({children:e,target:t="_blank",href:a,className:n,onClick:i,style:r}){return(0,s.jsx)("a",{onClick:i,href:a,target:t,rel:"noopener noreferrer",style:r,children:e})};var i=e.i(389959);let r=(0,i.createContext)({type:"text"}),o=e=>{let{type:t}=e;return(0,s.jsx)(r.Provider,{value:{type:t},children:e.children})},l=()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:t,ulClassName:a,style:n,type:i="text"}){return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:t,style:n,children:(0,s.jsx)(o,{type:i,children:(0,s.jsx)("ul",{className:a,children:e})})})}c.Item=function({children:e,icon:n,active:i,rounded:r,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let p=(0,t.default)("menu"),{type:m}=l(),h=[p.item.base];h.push(p.item.variants[m].base),i?h.push(p.item.variants[m].active):h.push(p.item.variants[m].normal);let f=[p.item.content.base];i?f.push(p.item.content.active):f.push(p.item.content.normal);let x=[p.item.icon.base];return i?x.push(p.item.icon.active):x.push(p.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",h),style:u,onClick:o,"aria-current":i?"page":void 0,children:[n&&(0,s.jsx)("div",{className:`${x.join(" ")} min-w-fit`,children:n}),(0,s.jsx)("span",{className:f.join(" "),children:e})]})},c.Group=function({children:e,icon:a,title:n}){let i=(0,t.default)("menu"),{type:r}=l();return(0,s.jsxs)("div",{className:[i.group.base,i.group.variants[r]].join(" "),children:[a&&(0,s.jsx)("span",{className:i.group.icon,children:a}),(0,s.jsx)("span",{className:i.group.content,children:n}),e]})},c.Misc=function({children:e}){return(0,s.jsx)("div",{children:(0,s.jsx)(n.Text,{children:(0,s.jsx)("span",{children:e})})})},e.s(["Menu",0,c],862326)},388147,799793,e=>{"use strict";var s=e.i(478902),t=e.i(587433),a=e.i(862326),n=e.i(215261),i=e.i(837710);let r=({name:e="",isActive:r,isExternal:o,icon:l,rightIcon:c,url:d="",target:u="_self",onClick:p,textClassName:m="",hoverText:h="",label:f})=>{let x=(0,s.jsx)(a.Menu.Item,{icon:l,rounded:!0,active:r,onClick:p,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:h||("string"==typeof e?e:""),children:[(0,s.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==f&&(0,s.jsx)(t.Badge,{variant:"new"===f.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:f})]}),c&&(0,s.jsx)("div",{children:c})]})});return d?o?(0,s.jsx)(i.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:l,children:(0,s.jsx)(n.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,s.jsx)(n.default,{href:d,className:"block",target:u,children:x}):x};e.s(["default",0,r],799793),e.s(["ProductMenu",0,({page:e,menu:n})=>(0,s.jsx)("div",{className:"flex flex-col space-y-8",children:(0,s.jsx)(a.Menu,{type:"pills",children:n.map((i,o)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(a.Menu.Group,{title:i.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:i.title}),i.isPreview&&(0,s.jsx)(t.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:i.items.map(t=>{let a=t.pages?t.pages.includes(e??""):e===t.key;return(0,s.jsx)(r,{url:t.url,name:t.name,icon:t.icon,rightIcon:t.rightIcon,isActive:a,isExternal:t.isExternal,target:t.isExternal?"_blank":"_self",label:t.label},t.key)})})]})}),o!==n.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},i.key||i.title))})})],388147)},3259,100387,e=>{"use strict";var s=e.i(478902),t=e.i(153545),a=e.i(933505);e.s(["ChevronRightIcon",()=>a.default],100387);var a=a,n=e.i(389959),i=e.i(843778);let r=n.forwardRef(({...e},t)=>(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));r.displayName="Breadcrumb";let o=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("ol",{ref:a,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...t}));o.displayName="BreadcrumbList";let l=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("li",{ref:a,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...t}));l.displayName="BreadcrumbItem";let c=n.forwardRef(({asChild:e,className:a,...n},r)=>{let o=e?t.Slot:"a";return(0,s.jsx)(o,{ref:r,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",a),...n})});c.displayName="BreadcrumbLink";let d=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",e),...t}));d.displayName="BreadcrumbPage";let u=({children:e,className:t,...n})=>(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5 text-foreground-muted",t),...n,children:e??(0,s.jsx)(a.default,{})});u.displayName="BreadcrumbSeparator",e.s(["Breadcrumb",()=>r,"BreadcrumbItem",()=>l,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>o,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},127739,e=>{"use strict";var s=e.i(478902),t=e.i(709520),a=e.i(389959),n=e.i(843778);let i=(0,t.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),r=(0,a.forwardRef)(({className:e,size:t,...a},r)=>(0,s.jsx)("div",{ref:r,...a,className:(0,n.cn)(i({size:t}),e)}));r.displayName="PageContainer",e.s(["PageContainer",0,r])},456050,e=>{"use strict";var s=e.i(478902),t=e.i(709520),a=e.i(389959),n=e.i(843778),i=e.i(3259),r=e.i(127739);let o=(0,t.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),l=(0,a.createContext)({size:"default"}),c=()=>(0,a.useContext)(l),d=({className:e,size:t,children:a,...i})=>{let r=t??"default";return(0,s.jsx)(l.Provider,{value:{size:r},children:(0,s.jsx)("div",{"data-slot":"page-header","data-size":r,className:(0,n.cn)(o({size:r}),e),...i,children:a})})},u=({className:e,children:t,...a})=>{let{size:o}=c();return(0,s.jsx)(r.PageContainer,{size:o,children:(0,s.jsx)(i.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,n.cn)("flex items-center gap-4 [&_li]:text-xs",e),...a,children:t})})};u.displayName="PageHeaderBreadcrumb";let p=({className:e,...t})=>(0,s.jsx)("div",{"data-slot":"page-header-icon",className:(0,n.cn)("text-foreground-light",e),...t});p.displayName="PageHeaderIcon";let m=({className:e,children:t,...a})=>(0,s.jsx)("div",{"data-slot":"page-header-summary",className:(0,n.cn)("flex flex-col gap-1",e),...a,children:t});m.displayName="PageHeaderSummary";let h=({className:e,children:t,...a})=>(0,s.jsx)("h1",{"data-slot":"page-header-title",className:(0,n.cn)("heading-title",e),...a,children:t}),f=({className:e,children:t,...a})=>(0,s.jsx)("div",{"data-slot":"page-header-description",className:(0,n.cn)("heading-subSection text-foreground-light",e),...a,children:t}),x=({className:e,children:t,...a})=>{let{size:i}=c();return(0,s.jsx)(r.PageContainer,{size:i,children:(0,s.jsx)("div",{"data-slot":"page-header-meta",className:(0,n.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...a,children:t})})};x.displayName="PageHeaderMeta";let g=({className:e,...t})=>(0,s.jsx)("div",{"data-slot":"page-header-actions",className:(0,n.cn)("flex items-center gap-2 shrink-0",e),...t});g.displayName="PageHeaderAside";let j=({className:e,...t})=>{let{size:a}=c();return(0,s.jsx)(r.PageContainer,{size:a,className:(0,n.cn)("full"===a&&"border-b"),children:(0,s.jsx)("div",{"data-slot":"page-header-footer",className:(0,n.cn)("w-full [&>nav]:border-b-0","full"!==a&&"border-b",e),...t})})};j.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>g,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>f,"PageHeaderIcon",()=>p,"PageHeaderMeta",()=>x,"PageHeaderNavigationTabs",()=>j,"PageHeaderSummary",()=>m,"PageHeaderTitle",()=>h])},583369,e=>{"use strict";let s=(0,e.i(388019).default)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);e.s(["default",()=>s])},839941,e=>{"use strict";var s=e.i(478902),t=e.i(898452);e.i(128328);var a=e.i(158639),n=e.i(388147),i=e.i(951138),r=e.i(825713);let o=()=>{let{ref:e="default"}=(0,a.useParams)(),i=(0,t.useRouter)().pathname.split("/")[4],r=[{title:"Manage",items:[{name:"Functions",key:"main",pages:["","[functionSlug]","new"],url:`/project/${e}/functions`,items:[]},{name:"Secrets",key:"secrets",url:`/project/${e}/functions/secrets`,items:[]}]}];return(0,s.jsx)(n.ProductMenu,{page:i,menu:r})},l=(0,i.withAuth)(({children:e})=>(0,s.jsx)(r.ProjectLayout,{title:"Edge Functions",product:"Edge Functions",productMenu:(0,s.jsx)(o,{}),isBlocking:!1,children:e}));e.s(["default",0,l])},743052,e=>{"use strict";var s=e.i(478902),t=e.i(370410),a=e.i(816467),n=e.i(389959),i=e.i(843778),r=e.i(375761);let o=(0,n.forwardRef)(({commands:e,className:t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("space-y-4",t),children:e.map((e,t)=>(0,s.jsx)(l,{item:e},`command-${t}`))}));o.displayName="CommandRender";let l=({item:e})=>{let[i,o]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:`> ${e.comment}`}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,s.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("span",{children:[e.jsx?e.jsx():null," "]}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var s;s=e.command,o(!0),(0,r.copyToClipboard)(s),setTimeout(()=>o(!1),3e3)},children:i?(0,s.jsx)(t.Check,{size:14,strokeWidth:3,className:"text-brand"}):(0,s.jsx)(a.Copy,{size:14})})]})]})})]})};e.s(["default",0,o])},42081,e=>{"use strict";let s="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>s])},886514,e=>{"use strict";let s=(0,e.i(388019).default)("ArrowDownNarrowWide",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h4",key:"6d7r33"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h10",key:"1438ji"}]]);e.s(["ArrowDownNarrowWide",()=>s],886514)},701257,e=>{"use strict";var s=e.i(583369);e.s(["ArrowDownWideNarrow",()=>s.default])},672296,e=>{"use strict";function s(e){return e.split("#")[0]}function t(e,s={}){let{maxDepth:a=3,redaction:n="[REDACTED]",truncationNotice:i="[REDACTED: max depth reached]",sensitiveKeys:r=[]}=s,o=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...r].map(e=>e.toLowerCase())),l=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let s=e;for(let{re:e}of l)s=s.replace(e,n);return s}function u(e){return o.has(String(e).toLowerCase())}return e.map(e=>(function e(s,t){if(null==s||"number"==typeof s||"boolean"==typeof s||"bigint"==typeof s)return s;if("string"==typeof s)return d(s);if("function"==typeof s)return"[Function]";if(s instanceof Date)return s.toISOString();if(s instanceof RegExp)return s.toString();if(ArrayBuffer.isView(s)&&!(s instanceof DataView))return`[TypedArray byteLength=${s.byteLength}]`;if(s instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${s.byteLength}]`;if(t>=a)return i;if("object"==typeof s){if(c.has(s))return"[Circular]";if(Array.isArray(s)){let a=[];c.set(s,a);for(let n=0;n<s.length;n++)a[n]=e(s[n],t+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let s=Object.getPrototypeOf(e);return s===Object.prototype||null===s}(s)){let a={};for(let[i,r]of(c.set(s,a),Object.entries(s)))u(i)?a[i]=n:a[i]=e(r,t+1);return a}if(s instanceof Map){let a=[];for(let[i,r]of(c.set(s,a),s.entries())){let s=u(i)?n:e(i,t+1),o=u(i)?n:e(r,t+1);a.push([s,o])}return a}if(s instanceof Set){let a=[];for(let n of(c.set(s,a),s.values()))a.push(e(n,t+1));return a}if(s instanceof URL)return s.toString();if(s instanceof Error){let e={name:s.name,message:d(s.message),stack:i};return c.set(s,e),e}try{return d(String(s))}catch{return d(Object.prototype.toString.call(s))}}return d(String(s))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>t,"sanitizeUrlHashParams",()=>s])},974200,e=>{"use strict";let s=[{value:"hello-world",name:"Simple Hello World",description:"Basic function that returns a JSON response",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
interface reqPayload {
  name: string;
}

console.info('server started');

Deno.serve(async (req: Request) => {
  const { name }: reqPayload = await req.json();
  const data = {
    message: \`Hello \${name}!\`,
  };

  return new Response(
    JSON.stringify(data),
    { headers: { 'Content-Type': 'application/json', 'Connection': 'keep-alive' }}
  );
});`},{value:"database-access",name:"Supabase Database Access",description:"Example using Supabase client to query your database",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { createClient } from 'jsr:@supabase/supabase-js@2'

Deno.serve(async (req) => {
  try {
    const supabase = createClient(
      Deno.env.get('SUPABASE_URL') ?? '',
      Deno.env.get('SUPABASE_ANON_KEY') ?? '',
      { global: { headers: { Authorization: req.headers.get('Authorization')! } } }
    )

    // TODO: Change the table_name to your table
    const { data, error } = await supabase.from('table_name').select('*')

    if (error) {
      throw error
    }

    return new Response(JSON.stringify({ data }), {
      headers: { 'Content-Type': 'application/json' },
      status: 200,
    })
  } catch (err) {
    return new Response(JSON.stringify({ message: err?.message ?? err }), {
      headers: { 'Content-Type': 'application/json' },
      status: 500 
    })
  }
})`},{value:"storage-upload",name:"Supabase Storage Upload",description:"Upload files to Supabase Storage",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { createClient } from 'jsr:@supabase/supabase-js@2'
import { randomUUID } from 'node:crypto'

const supabase = createClient(
  Deno.env.get('SUPABASE_URL') ?? '',
  Deno.env.get('SUPABASE_ANON_KEY') ?? ''
)

Deno.serve(async (req) => {
  const formData = await req.formData()
  const file = formData.get('file')
  
  // TODO: update your-bucket to the bucket you want to write files
  const { data, error } = await supabase
    .storage
    .from('your-bucket')
    .upload(
      \`\${file.name}-\${randomUUID()}\`,
      file,
      { contentType: file.type }
    )
  if (error) throw error
  return new Response(
    JSON.stringify({ data }),
    { headers: { 'Content-Type': 'application/json' }}
  )
})`},{value:"node-api",name:"Node Built-in API Example",description:"Example using Node.js built-in crypto and http modules",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { randomBytes } from "node:crypto";
import { createServer } from "node:http";
import process from "node:process";

const generateRandomString = (length) => {
  const buffer = randomBytes(length);
  return buffer.toString('hex');
};

const randomString = generateRandomString(10);
console.log(randomString);

const server = createServer((req, res) => {
  const message = \`Hello\`;
  res.end(message);
});

server.listen(9999);`},{value:"express",name:"Express Server",description:"Example using Express.js for routing",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import express from "npm:express@4.18.2";

const app = express();

// TODO: replace slug with Function's slug
// https://supabase.com/docs/guides/functions/routing?queryGroups=framework&framework=expressjs
app.get(/slug/(.*)/, (req, res) => {
  res.send("Welcome to Supabase");
});

app.listen(8000);`},{value:"openai-completion",name:"OpenAI Text Completion",description:"Generate text completions using OpenAI GPT-3",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts"
import { OpenAI } from "npm:openai@4.8.0"

const openai = new OpenAI({
  apiKey: Deno.env.get('OPENAI_API_KEY')
})

Deno.serve(async (req)=>{
  const { prompt } = await req.json()
  const response = await openai.chat.completions.create({
    model: "gpt-3.5-turbo",
    messages: [
      {
        role: "user",
        content: prompt
      }
    ]
  })
  return new Response(JSON.stringify({
    text: response.choices[0].message.content
  }), {
    headers: {
      'Content-Type': 'application/json',
      'Connection': 'keep-alive'
    }
  })
})`},{value:"stripe-webhook",name:"Stripe Webhook Example",description:"Handle Stripe webhook events securely",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import Stripe from 'npm:stripe@12.0.0'

const stripe = new Stripe(Deno.env.get('STRIPE_API_KEY') as string, {
  // This is needed to use the Fetch API rather than relying on the Node http
  // package.
  apiVersion: '2024-11-20'
})

// This is needed in order to use the Web Crypto API in Deno.
const cryptoProvider = Stripe.createSubtleCryptoProvider()

console.log('Stripe Webhook Function booted!')

Deno.serve(async (request) => {
  const signature = request.headers.get('Stripe-Signature')

  // First step is to verify the event. The .text() method must be used as the
  // verification relies on the raw request body rather than the parsed JSON.
  const body = await request.text()
  let receivedEvent
  try {
    receivedEvent = await stripe.webhooks.constructEventAsync(
      body,
      signature!,
      Deno.env.get('STRIPE_WEBHOOK_SIGNING_SECRET')!,
      undefined,
      cryptoProvider
    )
  } catch (err) {
    return new Response(err.message, { status: 400 })
  }
  console.log(\`ðŸ”” Event received: \${receivedEvent.id}\`)
  return new Response(JSON.stringify({ ok: true }), { status: 200 })
});`},{value:"resend-email",name:"Send Emails",description:"Send emails using the Resend API",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";

const RESEND_API_KEY = Deno.env.get('RESEND_API_KEY')!

Deno.serve(async (req) => {
  const { to, subject, html } = await req.json()
  const res = await fetch('https://api.resend.com/emails', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      Authorization: \`Bearer \${RESEND_API_KEY}\`,
    },
    body: JSON.stringify({
      from: 'you@example.com',
      to,
      subject,
      html,
    }),
  })
  const data = await res.json()
  return new Response(JSON.stringify(data), {
    headers: { 'Content-Type': 'application/json' },
  })
})`},{value:"image-transform",name:"Image Transformation",description:"Transform images using ImageMagick WASM",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import {
  ImageMagick,
  initializeImageMagick,
} from "npm:@imagemagick/magick-wasm@0.0.30"

await initializeImageMagick()

Deno.serve(async (req) => {
  const formData = await req.formData()
  const file = formData.get('file')
  const content = await file.arrayBuffer()
  const result = await ImageMagick.read(new Uint8Array(content), (img) => {
    img.resize(500, 300)
    img.blur(60, 5)
    return img.write(data => data)
  })
  return new Response(
    result,
    { headers: { 'Content-Type': 'image/png' }}
  )
})`},{value:"websocket-server",name:"Websocket Server Example",description:"Create a real-time WebSocket server",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";

Deno.serve((req) => {
  const upgrade = req.headers.get("upgrade") || ""
  if (upgrade.toLowerCase() != "websocket") {
    return new Response("request isn't trying to upgrade to websocket.")
  }
  const { socket, response } = Deno.upgradeWebSocket(req)
  socket.onopen = () => {
    console.log("client connected!")
    socket.send('Welcome to Supabase Edge Functions!')
  }
  socket.onmessage = (e) => {
    console.log("client sent message:", e.data)
    socket.send(new Date().toString())
  }
  return response
})`}];e.s(["EDGE_FUNCTION_TEMPLATES",0,s])},856613,e=>{"use strict";var s=e.i(478902),t=e.i(416050),a=e.i(389959),n=e.i(627069),i=e.i(843778);let r=(0,a.forwardRef)(({media:e,meta:a,onClick:r,children:o,className:l,...c},d)=>(0,s.jsxs)(n.CardContent,{ref:d,className:(0,i.cn)("flex items-center justify-between text-sm gap-4","!border-b-0",r&&"cursor-pointer hover:bg-surface-200",l),onClick:r,...c,children:[e&&(0,s.jsx)("div",{className:"text-foreground-light flex items-center justify-center",children:e}),(0,s.jsx)("div",{className:"flex-1",children:o}),a&&(0,s.jsx)("div",{children:a}),r&&(0,s.jsx)(t.ChevronRight,{strokeWidth:1.5,size:16})]}));r.displayName="ResourceItem",e.s(["ResourceItem",0,r])},548760,e=>{"use strict";var s=e.i(478902),t=e.i(389959),a=e.i(627069);let n=(0,t.forwardRef)(({children:e,className:t,...n},i)=>(0,s.jsx)(a.Card,{ref:i,className:"overflow-hidden",...n,children:(0,s.jsx)("div",{className:t,children:e})}));n.displayName="ResourceList",e.s(["ResourceList",0,n])},19688,38423,e=>{"use strict";var s=e.i(242882),t=e.i(234745);let a={list:()=>["access-tokens"]};async function n(e){let{data:s,error:a}=await (0,t.get)("/platform/profile/access-tokens",{signal:e});return a&&(0,t.handleError)(a),s}e.s(["accessTokenKeys",0,a],38423),e.s(["useAccessTokensQuery",0,({enabled:e=!0,...t}={})=>(0,s.useQuery)({queryKey:a.list(),queryFn:({signal:e})=>n(e),...t})],19688)},841079,645135,e=>{"use strict";var s=e.i(478902),t=e.i(454370),a=e.i(398696),n=e.i(250503),i=e.i(388298),r=e.i(992615),o=e.i(454931),l=e.i(215261),c=e.i(898452),d=e.i(389959);e.i(128328);var u=e.i(158639),p=e.i(215618),m=e.i(167892),h=e.i(513826),f=e.i(856613),x=e.i(548760),g=e.i(162082),j=e.i(912793),b=e.i(265735),y=e.i(10429),v=e.i(317040),w=e.i(441081),N=e.i(602089),S=e.i(837710),k=e.i(627069),C=e.i(843778),_=e.i(672044),D=e.i(253214),A=e.i(479095),P=e.i(974200),T=e.i(902858),E=e.i(17203),R=e.i(180148),I=e.i(699879),M=e.i(743052),L=e.i(19688),z=e.i(108892),B=e.i(377451),O=e.i(71005),F=e.i(2579),U=e.i(774234),H=e.i(554855),$=e.i(925282);let W=(0,d.forwardRef)(({closable:e=!1,removeBorder:t=!1,...a},n)=>{let i=(0,c.useRouter)(),{ref:r}=(0,u.useParams)(),[l,p]=(0,d.useState)(!e),{data:m}=(0,L.useAccessTokensQuery)(),{can:f}=(0,F.useAsyncCheckPermissions)(T.PermissionAction.SECRETS_READ,"*"),{data:x}=(0,z.useAPIKeysQuery)({projectRef:r},{enabled:f}),{data:g}=(0,B.useProjectSettingsV2Query)({projectRef:r}),{data:j}=(0,O.useCustomDomainsQuery)({projectRef:r}),{anonKey:b,publishableKey:v}=(0,z.getKeys)(x),w=v?.api_key??b?.api_key??"[YOUR ANON KEY]",N=g?.app_config?.protocol??"https",k=g?.app_config?.endpoint??"",C=j?.customDomain?.status==="active"?`https://${j.customDomain.hostname}/functions/v1`:`${N}://${k}/functions/v1`,_=`https://${k}`,D=k?new URL(_).hostname.split(".").pop():"co",A=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]}),comment:"Create a function"},{command:`supabase functions deploy hello-world --project-ref ${r}`,description:"Deploys function at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",r]}),comment:"Deploy your function"},{command:`curl -L -X POST 'https://${r}.supabase.${D}/functions/v1/hello-world' -H 'Authorization: Bearer ${w}'${b?.type==="publishable"?` -H 'apikey: ${w}'`:""} --data '{"name":"Functions"}'`,description:"Invokes the hello-world function",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",C,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'",b?.type==="publishable"?" -H 'apikey: [YOUR ANON KEY]' ":"",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}];return(0,s.jsxs)($.Collapsible_Shadcn_,{ref:n,open:l,className:"w-full",onOpenChange:()=>p(!l),...a,children:[(0,s.jsxs)(H.CollapsibleTrigger_Shadcn_,{className:"flex w-full justify-between",disabled:!e,children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,s.jsx)(o.Terminal,{strokeWidth:2})}),(0,s.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),e&&(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>p(!l),children:l?(0,s.jsx)(I.Minimize2,{size:16,strokeWidth:1.5}):(0,s.jsx)(R.Maximize2,{size:16,strokeWidth:1.5})})]}),(0,s.jsxs)(U.CollapsibleContent_Shadcn_,{className:"w-full transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,s.jsx)(M.default,{commands:A,className:"my-4"}),m&&0===m.length?(0,s.jsxs)("div",{className:"px-8 py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"You may need to create an access token"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,s.jsx)(S.Button,{type:"default",onClick:()=>i.push("/account/tokens"),children:"Access tokens"})]}):(0,s.jsxs)("div",{className:"py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/guides/functions`}),(0,s.jsx)(S.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(E.ExternalLink,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})})]})]})]})]})});W.displayName="TerminalInstructions",e.s(["TerminalInstructions",0,W],645135),e.s(["FunctionsEmptyState",0,()=>{let{ref:e}=(0,u.useParams)(),a=(0,c.useRouter)(),n=(0,v.useAiAssistantStateSnapshot)(),{openSidebar:i}=(0,w.useSidebarManagerSnapshot)(),{mutate:r}=(0,g.useSendEventMutation)(),{data:h}=(0,b.useSelectedOrganizationQuery)(),y=(0,j.useIsFeatureEnabled)("edge_functions:show_stripe_example"),C=(0,d.useMemo)(()=>y?P.EDGE_FUNCTION_TEMPLATES:P.EDGE_FUNCTION_TEMPLATES.filter(e=>"stripe-webhook"!==e.value),[y]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k.Card,{children:[(0,s.jsx)(k.CardHeader,{children:(0,s.jsx)(k.CardTitle,{children:"Deploy your first edge function"})}),(0,s.jsxs)(k.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:[(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.Code,{strokeWidth:1.5,size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Via Editor"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and edit functions directly in the browser. Download to local at any time."}),(0,s.jsx)(S.Button,{type:"default",onClick:()=>{a.push(`/project/${e}/functions/new`),r({action:"edge_function_via_editor_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:h?.slug??"Unknown"}})},children:"Open Editor"})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.AiIconAnimation,{size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"AI Assistant"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Let our AI assistant help you create functions. Perfect for kickstarting a function."}),(0,s.jsx)(S.Button,{type:"default",onClick:()=>{i(p.SIDEBAR_KEYS.AI_ASSISTANT),n.newChat({name:"Create new edge function",initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:[{label:"Stripe Payments",description:"Create a new edge function that processes payments with Stripe"},{label:"Email with Resend",description:"Create a new edge function that sends emails with Resend"},{label:"PDF Generator",description:"Create a new edge function that generates PDFs from HTML templates"}]}}),r({action:"edge_function_ai_assistant_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:h?.slug??"Unknown"}})},children:"Open Assistant"})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Terminal,{strokeWidth:1.5,size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Via CLI"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and deploy functions using the Supabase CLI. Ideal for local development and version control."}),(0,s.jsxs)(D.Dialog,{children:[(0,s.jsx)(D.DialogTrigger,{asChild:!0,children:(0,s.jsx)(S.Button,{type:"default",onClick:()=>r({action:"edge_function_via_cli_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:h?.slug??"Unknown"}}),children:"View CLI Instructions"})}),(0,s.jsx)(D.DialogContent,{size:"large",children:(0,s.jsx)(D.DialogSection,{padding:"small",children:(0,s.jsx)(W,{})})})]})]})]})]}),(0,s.jsx)(m.ScaffoldSectionTitle,{className:"text-xl mb-4 mt-12",children:"Start with a template"}),(0,s.jsx)(x.ResourceList,{children:C.map(a=>(0,s.jsx)(f.ResourceItem,{media:(0,s.jsx)(t.Code,{strokeWidth:1.5,size:16,className:"-translate-y-[9px]"}),onClick:()=>{r({action:"edge_function_template_clicked",properties:{templateName:a.name,origin:"functions_page"},groups:{project:e??"Unknown",organization:h?.slug??"Unknown"}})},children:(0,s.jsxs)(l.default,{href:`/project/${e}/functions/new?template=${a.value}`,children:[(0,s.jsx)("p",{children:a.name}),(0,s.jsx)("p",{className:"text-sm text-foreground-lighter",children:a.description})]})},a.name))})]})},"FunctionsEmptyStateLocal",0,()=>{let e=(0,j.useIsFeatureEnabled)("edge_functions:show_stripe_example"),n=(0,d.useMemo)(()=>e?P.EDGE_FUNCTION_TEMPLATES:P.EDGE_FUNCTION_TEMPLATES.filter(e=>"stripe-webhook"!==e.value),[e]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsxs)(k.Card,{children:[(0,s.jsx)(k.CardHeader,{children:(0,s.jsx)(k.CardTitle,{children:"Developing Edge Functions locally"})}),(0,s.jsxs)(k.CardContent,{className:(0,C.cn)("p-0 flex flex-col","2xl:grid 2xl:grid-cols-[repeat(auto-fit,minmax(240px,1fr))] 2xl:divide-y-0 2xl:divide-x","divide-y divide-default items-stretch"),children:[(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.Code,{size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Create an Edge Function"})]}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light mt-1 mb-4 prose [&>code]:text-xs text-sm max-w-full",children:["Create a new edge function called ",(0,s.jsx)("code",{children:"hello-world"})," in your project via the Supabase CLI."]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,C.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:"supabase functions new hello-world"})}),(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#create-an-edge-function`})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Play,{size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Run Edge Functions locally"})]}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light mt-1 mb-4 prose [&>code]:text-xs text-sm max-w-full",children:["You can run your Edge Function locally using ",(0,s.jsx)("code",{children:"supabase functions serve"}),"."]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,C.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:`
supabase start # start the supabase stack
supabase functions serve # start the Functions watcher`.trim()})}),(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#running-edge-functions-locally`})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Terminal,{strokeWidth:1.5,size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Invoke Edge Functions locally"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mt-1 mb-4",children:"While serving your local Edge Functions, you can invoke it using cURL or one of the client libraries."}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,C.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:`
curl --request POST 'http://localhost:54321/functions/v1/hello-world' \\
  --header 'Authorization: Bearer SUPABASE_ANON_KEY' \\
  --header 'Content-Type: application/json' \\
  --data '{ "name":"Functions" }'`.trim()})}),(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#invoking-edge-functions-locally`})]})]})]}),(0,s.jsxs)(k.Card,{children:[(0,s.jsx)(k.CardHeader,{children:(0,s.jsx)(k.CardTitle,{children:"Self-hosting Edge Functions"})}),(0,s.jsx)(k.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Server,{size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Self-hosting Edge Functions"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mt-1 mb-4 max-w-3xl",children:"Supabase Edge Runtime consists of a web server based on the Deno runtime, capable of running Javascript, Typescript, and WASM services. You may self-host edge functions on providers like Fly.io, Digital Ocean, or AWS."}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/reference/self-hosting-functions/introduction`}),(0,s.jsx)(S.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(a.Github,{}),children:(0,s.jsx)("a",{href:"https://github.com/supabase/edge-runtime/",children:"GitHub"})})]})]})})]}),(0,s.jsx)(m.ScaffoldSectionTitle,{className:"text-xl mt-12",children:"Explore our templates"}),(0,s.jsx)(x.ResourceList,{children:n.map(e=>(0,s.jsxs)(D.Dialog,{children:[(0,s.jsx)(D.DialogTrigger,{asChild:!0,children:(0,s.jsx)(f.ResourceItem,{media:(0,s.jsx)(t.Code,{strokeWidth:1.5,size:16,className:"-translate-y-[9px]"}),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:e.name}),(0,s.jsx)("p",{className:"text-sm text-foreground-lighter",children:e.description})]})},e.name)}),(0,s.jsxs)(D.DialogContent,{size:"large",children:[(0,s.jsxs)(D.DialogHeader,{children:[(0,s.jsx)(D.DialogTitle,{children:e.name}),(0,s.jsx)(D.DialogDescription,{children:e.description})]}),(0,s.jsx)(A.Separator,{}),(0,s.jsx)(D.DialogSection,{className:"!p-0",children:(0,s.jsx)(_.CodeBlock,{language:"ts",hideLineNumbers:!0,className:(0,C.cn)("border-0 rounded-none px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 max-h-[420px]"),value:e.content})})]})]}))})]})})},"FunctionsSecretsEmptyStateLocal",0,()=>(0,s.jsxs)(k.Card,{children:[(0,s.jsx)(k.CardHeader,{children:(0,s.jsx)(k.CardTitle,{children:"Managing secrets and environment variables locally"})}),(0,s.jsx)(k.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Lock,{size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Managing secrets"})]}),(0,s.jsxs)("div",{className:"text-sm text-foreground-light mt-1 mb-4 max-w-3xl",children:[(0,s.jsx)("p",{children:"Local secrets and environment variables can be loaded in either of the following two ways"}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(0,s.jsxs)("li",{className:"prose [&>code]:text-xs text-sm max-w-full",children:["Through an ",(0,s.jsx)("code",{children:".env"})," file placed at ",(0,s.jsx)("code",{children:"supabase/functions/.env"}),", which is automatically loaded on ",(0,s.jsx)("code",{children:"supabase start"})]}),(0,s.jsxs)("li",{className:"prose [&>code]:text-xs text-sm max-w-full",children:["Through the ",(0,s.jsx)("code",{children:"--env-file"})," option for ",(0,s.jsx)("code",{children:"supabase functions serve"}),", for example: ",(0,s.jsx)("code",{children:"supabase functions serve --env-file ./path/to/.env-file"})]})]})]}),(0,s.jsx)(h.DocsButton,{href:`${y.DOCS_URL}/guides/functions/secrets#using-the-cli`})]})})]})],841079)},551734,e=>{"use strict";var s=e.i(478902),t=e.i(17203),a=e.i(366652),n=e.i(975924),i=e.i(4196),r=e.i(389959);e.i(128328);var o=e.i(158639),l=e.i(88816),c=e.i(454370),d=e.i(454931),u=e.i(898452),p=e.i(645135),m=e.i(162082),h=e.i(265735),f=e.i(317040),x=e.i(602089),g=e.i(837710),j=e.i(253214),b=e.i(874311),y=e.i(215618),v=e.i(441081);let w=()=>{let e=(0,u.useRouter)(),{ref:t}=(0,o.useParams)(),{data:a}=(0,h.useSelectedOrganizationQuery)(),n=(0,f.useAiAssistantStateSnapshot)(),{openSidebar:i}=(0,v.useSidebarManagerSnapshot)(),{mutate:r}=(0,m.useSendEventMutation)();return(0,s.jsxs)(b.DropdownMenu,{children:[(0,s.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(g.Button,{type:"primary",iconRight:(0,s.jsx)(l.ChevronDown,{className:"w-4 h-4",strokeWidth:1.5}),children:"Deploy a new function"})}),(0,s.jsxs)(b.DropdownMenuContent,{align:"end",className:"w-80",children:[(0,s.jsxs)(b.DropdownMenuItem,{onSelect:()=>{e.push(`/project/${t}/functions/new`),r({action:"edge_function_via_editor_button_clicked",properties:{origin:"secondary_action"},groups:{project:t??"Unknown",organization:a?.slug??"Unknown"}})},className:"gap-4",children:[(0,s.jsx)(c.Code,{className:"shrink-0",size:16,strokeWidth:1.5}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via Editor"}),(0,s.jsx)("p",{children:"Write and deploy in the browser"})]})]}),(0,s.jsxs)(j.Dialog,{children:[(0,s.jsx)(j.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(b.DropdownMenuItem,{className:"gap-4",onSelect:e=>{e.preventDefault(),r({action:"edge_function_via_cli_button_clicked",properties:{origin:"secondary_action"},groups:{project:t??"Unknown",organization:a?.slug??"Unknown"}})},children:[(0,s.jsx)(d.Terminal,{className:"shrink-0",size:16,strokeWidth:1.5}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via CLI"}),(0,s.jsx)("p",{children:"Write locally, deploy with the CLI"})]})]})}),(0,s.jsxs)(j.DialogContent,{size:"large",children:[(0,s.jsx)(j.DialogTitle,{className:"sr-only",children:"Create your first Edge Function via the CLI"}),(0,s.jsx)(j.DialogSection,{padding:"small",children:(0,s.jsx)(p.TerminalInstructions,{})})]})]}),(0,s.jsxs)(b.DropdownMenuItem,{className:"gap-4",onSelect:()=>{i(y.SIDEBAR_KEYS.AI_ASSISTANT),n.newChat({name:"Create new edge function",initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:[{label:"Stripe Payments",description:"Create a new edge function that processes payments with Stripe"},{label:"Email with Resend",description:"Create a new edge function that sends emails with Resend"},{label:"PDF Generator",description:"Create a new edge function that generates PDFs from HTML templates"}]}}),r({action:"edge_function_ai_assistant_button_clicked",properties:{origin:"secondary_action"},groups:{project:t??"Unknown",organization:a?.slug??"Unknown"}})},children:[(0,s.jsx)(x.AiIconAnimation,{className:"shrink-0",size:16}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via AI Assistant"}),(0,s.jsx)("p",{children:"Let the Assistant write and deploy for you"})]})]})]})]})};var N=e.i(886514),S=e.i(701257);let k=["name:asc","name:desc","created_at:asc","created_at:desc","updated_at:asc","updated_at:desc"],C=({value:e,onChange:t})=>(0,s.jsxs)(b.DropdownMenu,{children:[(0,s.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(g.Button,{type:"default",icon:e.includes("desc")?(0,s.jsx)(S.ArrowDownWideNarrow,{size:14}):(0,s.jsx)(N.ArrowDownNarrowWide,{size:14}),children:["Sorted by ",function(e){let[s]=e.split(":");return s.replace("_"," ")}(e)]})}),(0,s.jsx)(b.DropdownMenuContent,{align:"start",className:"w-48",children:(0,s.jsxs)(b.DropdownMenuRadioGroup,{value:e,onValueChange:e=>t(e),children:[(0,s.jsxs)(b.DropdownMenuSub,{children:[(0,s.jsx)(b.DropdownMenuSubTrigger,{children:"Sort by name"}),(0,s.jsxs)(b.DropdownMenuSubContent,{children:[(0,s.jsx)(b.DropdownMenuRadioItem,{value:"name:asc",children:"Ascending"}),(0,s.jsx)(b.DropdownMenuRadioItem,{value:"name:desc",children:"Descending"})]})]}),(0,s.jsxs)(b.DropdownMenuSub,{children:[(0,s.jsx)(b.DropdownMenuSubTrigger,{children:"Sort by created at"}),(0,s.jsxs)(b.DropdownMenuSubContent,{children:[(0,s.jsx)(b.DropdownMenuRadioItem,{value:"created_at:asc",children:"Ascending"}),(0,s.jsx)(b.DropdownMenuRadioItem,{value:"created_at:desc",children:"Descending"})]})]}),(0,s.jsxs)(b.DropdownMenuSub,{children:[(0,s.jsx)(b.DropdownMenuSubTrigger,{children:"Sort by updated at"}),(0,s.jsxs)(b.DropdownMenuSubContent,{children:[(0,s.jsx)(b.DropdownMenuRadioItem,{value:"updated_at:asc",children:"Ascending"}),(0,s.jsx)(b.DropdownMenuRadioItem,{value:"updated_at:desc",children:"Descending"})]})]})]})})]});var _=e.i(55956),D=e.i(370410),A=e.i(816467);e.i(69870);var P=e.i(377451),T=e.i(71005),E=e.i(375761),R=e.i(492418),I=e.i(955909);let M=({function:e})=>{let t=(0,u.useRouter)(),{ref:a}=(0,o.useParams)(),[n,i]=(0,r.useState)(!1),{data:l}=(0,P.useProjectSettingsV2Query)({projectRef:a}),{data:c}=(0,T.useCustomDomainsQuery)({projectRef:a}),d=l?.app_config?.protocol??"https",p=l?.app_config?.endpoint??"",m=c?.customDomain?.status==="active"?`https://${c.customDomain.hostname}/functions/v1/${e.slug}`:`${d}://${p}/functions/v1/${e.slug}`;return(0,s.jsxs)(R.TableRow,{onClick:()=>{t.push(`/project/${a}/functions/${e.slug}`)},className:"cursor-pointer",children:[(0,s.jsx)(R.TableCell,{children:(0,s.jsx)("p",{className:"text-sm text-foreground whitespace-nowrap py-2",children:e.name})}),(0,s.jsx)(R.TableCell,{children:(0,s.jsxs)("div",{className:"text-xs text-foreground-light flex gap-2 items-center truncate",children:[(0,s.jsx)("p",{title:m,className:"font-mono truncate hidden md:inline max-w-[30rem]",children:m}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground transition",onClick:e=>{e.stopPropagation(),i(!0),(0,E.copyToClipboard)(m),setTimeout(()=>i(!1),3e3)},children:n?(0,s.jsx)("div",{className:"text-brand",children:(0,s.jsx)(D.Check,{size:14,strokeWidth:3})}):(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"block",children:(0,s.jsx)(A.Copy,{size:14,strokeWidth:1.5})})})})]})}),(0,s.jsx)(R.TableCell,{className:"hidden 2xl:table-cell whitespace-nowrap",children:(0,s.jsx)("p",{className:"text-foreground-light",children:(0,_.default)(e.created_at).format("DD MMM, YYYY HH:mm")})}),(0,s.jsx)(R.TableCell,{className:"lg:table-cell",children:(0,s.jsx)(I.TimestampInfo,{className:"text-sm text-foreground-light whitespace-nowrap",utcTimestamp:e.updated_at,label:(0,_.default)(e.updated_at).fromNow()})}),(0,s.jsx)(R.TableCell,{className:"lg:table-cell",children:(0,s.jsx)("p",{className:"text-foreground-light",children:e.version})})]},e.id)};var L=e.i(841079),z=e.i(448710),B=e.i(839941),O=e.i(567558),F=e.i(513826),U=e.i(642834),H=e.i(240788),$=e.i(10429),W=e.i(627069),q=e.i(746301),Y=e.i(127739),G=e.i(456050),K=e.i(228027);let V=()=>{let{ref:e}=(0,o.useParams)(),{data:t,error:l,isPending:c,isError:d,isSuccess:u}=(0,H.useEdgeFunctionsQuery)({projectRef:e}),[p,m]=(0,i.useQueryState)("search",i.parseAsString.withDefault("")),[h,f]=(0,i.useQueryState)("sort",(0,i.parseAsStringLiteral)(k).withDefault("name:asc")),x=(0,r.useMemo)(()=>{let e=(t??[]).filter(e=>e.name.toLowerCase().includes(p.toLowerCase())),[s,a]=h.split(":"),n="asc"===a?1:-1;return e.sort((e,t)=>"name"===s?e.name.localeCompare(t.name)*n:"created_at"===s?(e.created_at-t.created_at)*n:"updated_at"===s?(e.updated_at-t.updated_at)*n:0)},[t,p,h]),j=(t??[]).length>0;return(0,s.jsx)(Y.PageContainer,{size:"large",children:(0,s.jsx)(K.PageSection,{children:(0,s.jsx)(K.PageSectionContent,{children:$.IS_PLATFORM?(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(U.GenericSkeletonLoader,{}),d&&(0,s.jsx)(O.default,{error:l,subject:"Failed to retrieve edge functions"}),u&&(0,s.jsx)(s.Fragment,{children:j?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(q.Input,{placeholder:"Search function names",icon:(0,s.jsx)(a.Search,{}),size:"tiny",className:"w-32 md:w-64",value:p,onChange:e=>m(e.target.value),actions:[p&&(0,s.jsx)(g.Button,{size:"tiny",type:"text",icon:(0,s.jsx)(n.X,{}),onClick:()=>m(""),className:"p-0 h-5 w-5"})]})})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(C,{value:h,onChange:f})})]}),(0,s.jsx)(W.Card,{children:(0,s.jsxs)(R.Table,{children:[(0,s.jsx)(R.TableHeader,{children:(0,s.jsxs)(R.TableRow,{children:[(0,s.jsx)(R.TableHead,{children:"Name"}),(0,s.jsx)(R.TableHead,{children:"URL"}),(0,s.jsx)(R.TableHead,{className:"hidden 2xl:table-cell",children:"Created"}),(0,s.jsx)(R.TableHead,{className:"lg:table-cell",children:"Updated"}),(0,s.jsx)(R.TableHead,{className:"lg:table-cell",children:"Deployments"})]})}),(0,s.jsx)(R.TableBody,{children:(0,s.jsx)(s.Fragment,{children:x.length>0?x.map(e=>(0,s.jsx)(M,{function:e},e.id)):(0,s.jsx)(R.TableRow,{children:(0,s.jsxs)(R.TableCell,{colSpan:5,children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',p,'" did not return any results']})]})})})})]})})]}):(0,s.jsx)(L.FunctionsEmptyState,{})})]}):(0,s.jsx)(L.FunctionsEmptyStateLocal,{})})})})};V.getLayout=e=>(0,s.jsx)(z.default,{children:(0,s.jsx)(B.default,{children:(0,s.jsxs)("div",{className:"w-full min-h-full flex flex-col items-stretch",children:[(0,s.jsx)(G.PageHeader,{size:"large",children:(0,s.jsxs)(G.PageHeaderMeta,{children:[(0,s.jsxs)(G.PageHeaderSummary,{children:[(0,s.jsx)(G.PageHeaderTitle,{children:"Edge Functions"}),(0,s.jsx)(G.PageHeaderDescription,{children:"Run server-side logic close to your users"})]}),(0,s.jsxs)(G.PageHeaderAside,{children:[(0,s.jsx)(F.DocsButton,{href:`${$.DOCS_URL}/guides/functions`}),(0,s.jsx)(g.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(t.ExternalLink,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})}),$.IS_PLATFORM&&(0,s.jsx)(w,{})]})]})}),e]})})}),e.s(["default",0,V],551734)},621250,(e,s,t)=>{let a="/project/[ref]/functions";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(551734)]),s.hot&&s.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(s=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(s=>e.l(s))).then(()=>s(677146)))},883471,e=>{e.v(s=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(s=>e.l(s))).then(()=>s(518769)))},587525,e=>{e.v(s=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(s=>e.l(s))).then(()=>s(127351)))},168845,e=>{e.v(s=>Promise.all(["static/chunks/99714db866f77205.js"].map(s=>e.l(s))).then(()=>s(238625)))},730314,e=>{e.v(s=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/df8f2d32c834951d.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(s=>e.l(s))).then(()=>s(686651)))},591393,e=>{e.v(s=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(s=>e.l(s))).then(()=>s(217383)))},379416,e=>{e.v(s=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(s=>e.l(s))).then(()=>s(931066)))},15732,e=>{e.v(s=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(s=>e.l(s))).then(()=>s(760545)))},957083,e=>{e.v(s=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(s=>e.l(s))).then(()=>s(667558)))},207969,e=>{e.v(s=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(s=>e.l(s))).then(()=>s(427328)))},992842,e=>{e.v(s=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(s=>e.l(s))).then(()=>s(793794)))},239573,e=>{e.v(s=>Promise.all(["static/chunks/edc5d84148401903.js"].map(s=>e.l(s))).then(()=>s(210246)))},963685,e=>{e.v(s=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(s=>e.l(s))).then(()=>s(983756)))},665811,e=>{e.v(s=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(s=>e.l(s))).then(()=>s(544836)))},369256,e=>{e.v(s=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(s=>e.l(s))).then(()=>s(930239)))},16037,e=>{e.v(s=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(s=>e.l(s))).then(()=>s(397698)))},616788,e=>{e.v(s=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(s=>e.l(s))).then(()=>s(7346)))},315750,e=>{e.v(s=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(s=>e.l(s))).then(()=>s(531289)))},460510,e=>{e.v(s=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(s=>e.l(s))).then(()=>s(276898)))},550265,e=>{e.v(s=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(s=>e.l(s))).then(()=>s(259714)))},830960,e=>{e.v(s=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(s=>e.l(s))).then(()=>s(882885)))},336744,e=>{e.v(s=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(s=>e.l(s))).then(()=>s(955268)))},63631,e=>{e.v(s=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(s=>e.l(s))).then(()=>s(853630)))},912072,e=>{e.v(s=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(s=>e.l(s))).then(()=>s(311301)))}]);

//# debugId=b7a45fb9-988c-272b-5572-07ee48a58bf7
//# sourceMappingURL=7c9250cdc53b3e76.js.map